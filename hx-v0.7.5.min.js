/*! jQuery.hx - 0.7.5 - Bernard McManus - 2014-02-19 */
!function(){function a(a){var d=b(a),e=a.style.display,f=null;if(null===d||void 0===d){var g=window.getComputedStyle(a).display;"none"!==g&&""===e?d=0:"none"!==g&&g===e?d=1:"none"===g&&""===e?d=2:"none"===g&&g===e&&(d=3),c(a,d)}switch(d){case 0:case 3:f="none"!==e;break;case 1:case 2:f="none"!==e&&""!==e}return f}function b(a){var b=a.getAttribute("hx_display");return null!==b&&(b=parseInt(b,10)),b}function c(a,b){a.setAttribute("hx_display",b)}function d(a){a.style.visibility="hidden",a.style.display="block"}function e(a){if(hxManager.helper.object.size.call(a)<1&&"object"!=typeof a)return[a];if(Array.isArray(a))return a;var b=a,c=[],d=0,e={x:0,y:1,z:2,a:3};for(var f in b)d=e[f],c[d]=b[f];return c}function f(a){var b={};for(var c in a)if(!(n.keys.config.indexOf(c)>=0)){var d=e(a[c]),f=g(c);b[c]=h(c,d,f,a.relative)}return b}function g(a){var b=[];switch(a){case"matrix3d":b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;case"matrix":b=[1,0,0,1,0,0];break;case"translate3d":b=[0,0,0];break;case"scale3d":b=[1,1,1];break;case"rotate3d":b=[0,0,0,0];break;case"rotateX":case"rotateY":case"rotateZ":case"opacity":b=[0]}return b}function h(a,b,c,d){var e=$.extend([],c),f=$.extend(e,b);return d===!1?f:(hxManager.helper.array.compare.call(c,f)&&n.keys.nonXform.indexOf(a)<0&&(f=[]),f)}function i(a,b){if(b.length<1)return"";var c="",d="";switch(a){case"computed":a=b.type,b=b.transform,c=", ",d="";break;case"translate3d":c="px, ",d="px";break;case"matrix3d":case"matrix":case"scale3d":c=", ",d="";break;case"rotate3d":c=", ",d="deg";break;case"rotateX":case"rotateY":case"rotateZ":c="",d="deg"}return a+"("+b.join(c)+d+")"}function j(a){var b=[];for(var c in a)if(n.keys.config.indexOf(c)<0){var d=i(c,a[c]);""!==d&&b.push(d)}return b.join(" ")}function k(a){var b=[];for(var c in a){var d=c+" "+a[c].duration+"ms "+a[c].easing+" "+a[c].delay+"ms";b.indexOf(d)<0&&b.push(d)}return b.join(", ")}function l(a){if(!a)return!1;for(var b=["matrix","matrix3d"],c=!1,d=0;d<b.length;d++){var e=new RegExp(b[d]+"\\(","i");if(e.test(a)){c=b[d];break}}return c}function m(a){var b=l(a);if(!a||!b)return{};var c=a.replace(/(px|\s|\))/gi,"").split("(")[1].split(",");c.map(function(a){return parseFloat(a,10)});var d=g(b);return c=h(b,c,d),{type:b,transform:c}}var n={keys:{config:["property","value","duration","easing","delay","relative","pseudoHide","done","fallback"],nonXform:["opacity"]}};window.hxManager=function(a){if(!a)throw"Error: You must pass an element to the hxManager constructor.";return $.extend(this,{element:a,queue:{},components:{},_callback:function(){}}),this._init()},hxManager.prototype={_init:function(){this.trigger("hx_init"),a(this.element)||d(this.element);var b=$(this.element);return b.hxManager=1,$.extend(b,this),b},getComputedMatrix:function(a){if(n.keys.nonXform.indexOf(a)>=0)return null;var b=hxManager.vendorPatch.getComputedMatrix(this.element);return l(b)!==!1?(b=m(b),b.transform.length<1?null:b):null},apply:function(a,b){var c=this.getComputedMatrix(a);return c&&(this.components.transform=this.components.transform||{},this.components.transform.computed=c),this.set(a,b,!0)},set:function(a,b,c){if(this.components[a]=this.components[a]||{},c===!1&&"undefined"!=typeof this.components[a].computed&&delete this.components[a].computed,this.components[a]=$.extend(this.components[a],f(b)),b=$.extend({duration:0,delay:0,relative:c===!0?!0:!1,fallback:!0},b),this.queue[a]=new hxManager.animator({element:this.element,property:a,eventType:hxManager.vendorPatch.getEventType(),value:n.keys.nonXform.indexOf(a)<0?j(this.components[a]):this.components[a][a][0],duration:b.duration,easing:hxManager._easing(b.easing),delay:b.delay,fallback:b.fallback,trigger:this.trigger.bind(this),cancel:this.cancel.bind(this),complete:this._transitionEnd.bind(this)}),this.setTransition(a),this.queue[a]){var d={property:hxManager.vendorPatch.getPrefixed(a),value:hxManager.vendorPatch.getPrefixed(this.queue[a].value)};$(this.element).css(d.property,d.value),this.queue[a].start(),this.trigger("hx_applyXform",a,d.value,b)}return this},setTransition:function(a,b){if(a){b=b||{},b.easing&&(b.easing=hxManager._easing(b.easing));var c={};this.queue[a]?this.queue[a]=$.extend(this.queue[a],b):c[a]={easing:"undefined"!=typeof b.easing?b.easing:"ease",duration:b.duration||0,delay:b.delay||0},c=$.extend({},this.queue,c);var d=k(c);d=hxManager.vendorPatch.getPrefixed(d);var e=hxManager.vendorPatch.getPrefixed("transition");this.element.style.transition!==d&&($(this.element).css(e,d),this.trigger("hx_setTransition",a,d))}},trigger:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1),c={};c="function"==typeof o[a]?o[a].apply(this,b):hxManager.vendorPatch.createEvent(a,b[0]),this.element.dispatchEvent(c)},_transitionEnd:function(a,b){this.trigger("hx_transitionEnd",b),delete this.queue[b],hxManager.helper.object.size.call(this.queue)>0||(this.trigger("hx_done"),"function"==typeof this._callback&&this._callback.call(this,a),this.hxManager=0)},done:function(a){this._callback=a||function(){}},cancel:function(){for(var a in this.queue)try{this.queue[a].destroy()}catch(b){delete this.queue[a]}this.trigger("hx_cancel")}};var o={hx_init:function(){return hxManager.vendorPatch.createEvent("hx_init",{},!1,!0)},hx_setTransition:function(a,b){return hxManager.vendorPatch.createEvent("hx_setTransition",{propertyName:a,string:b},!1,!0)},hx_applyXform:function(a,b,c){return hxManager.vendorPatch.createEvent("hx_applyXform",{propertyName:a,string:b,xform:c},!1,!0)},hx_transitionEnd:function(a){return hxManager.vendorPatch.createEvent("hx_transitionEnd",{propertyName:a},!1,!0)},hx_fallback:function(a){return hxManager.vendorPatch.createEvent("hx_fallback",{propertyName:a},!1,!0)},hx_cancel:function(){return hxManager.vendorPatch.createEvent("hx_cancel",{},!1,!0)},hx_done:function(){return hxManager.vendorPatch.createEvent("hx_done",{},!1,!0)}}}(),function(a){var b={array:{},hxInst:{},object:{}};b.array.compare=function(a){if(!a)return!1;if(this.length!=a.length)return!1;for(var b=0,c=this.length;c>b;b++)if(this[b]instanceof Array&&a[b]instanceof Array){if(!this[b].compare(a[b]))return!1}else if(this[b]!=a[b])return!1;return!0},b.array.last=function(){var a=this.length>0?this.length-1:0;return arguments.length>0&&(this[a]=arguments[0]),this[a]},b.hxInst.prepForFade=function(a){this.setTransition("opacity",{duration:0,delay:0}),this.element.style.opacity="in"===a?0:1,this.element.style.visibility="visible",this.element.getBoundingClientRect()},b.object.size=function(){if("object"!=typeof this)return 0;var a=0;for(var b in this)a++;return a},$.extend(a,{helper:b})}(hxManager),function(a){var b=function(){var a={queue:[],count:0,index:0,done:function(){}};$.extend(this,a),this._init()};b.prototype={_init:function(){this.count=this.queue.length},_valid:function(a){if("function"!=typeof a)throw"Error: Only functions can be queued in the workflow."},add:function(a,b){b=b||a,this._valid(a);var c=function(c){a.apply(b,c)};this.queue.push(c),this.count++},run:function(){this._setCallback(arguments),this._doWork(this.index,this.count,arguments)},_setCallback:function(b){var c=a.helper.array.last.call(b);"function"==typeof c&&(this.done=c)},progress:function(){this.index++,this._doWork(this.index,this.count,arguments)},_doWork:function(a,b,c){b>a?this.queue[a].call(this,c):this.done.apply(this,c)}},$.extend(a,{workflow:b})}(hxManager),function(a){function b(){var a=navigator.userAgent;for(var b in f.vendors)if(f.vendors[b].test(a))return b;return"other"}function c(){var a=navigator.userAgent;for(var b in f.os)if(f.os[b].test(a))return b;return"other"}function d(){return/mobile/i.test(navigator.userAgent)}function e(a){return"android"===a&&!/(chrome|firefox)/i.test(navigator.userAgent)}var f={vendors:{webkit:/webkit/i,moz:/firefox/i,o:/opera/i,ms:/msie/i},os:{android:/android/i,ios:/(ios|iphone)/i,macos:/mac os/i,windows:/windows/i},events:{webkit:"webkitTransitionEnd",moz:"transitionend",o:"oTransitionEnd",ms:"transitionend",other:"transitionend"},prefixProps:[/(?!-)transition(?!-)/g,/(?!-)transform(?!-)/g]},g=function(){this.ua=b(),this.os=c(),this.isMobile=d()};g.prototype={getEventType:function(){return f.events[this.ua]},getPrefixed:function(a){if("other"===this.ua)return a;for(var b=0;b<f.prefixProps.length;b++){var c=f.prefixProps[b],d=c.exec(a);d&&(a=a.replace(c,"-"+this.ua+"-"+d[0]))}return a},createEvent:function(a,b,c,d){if(a){b=b||{},c="undefined"!=typeof c?c:!0,d="undefined"!=typeof d?d:!0;var e={};try{e=new CustomEvent(a,{bubbles:c,cancelable:d,detail:b})}catch(f){e=document.createEvent("Event"),e.initEvent(a,c,d),e.detail=b}return e}},getComputedMatrix:function(a){var b=window.getComputedStyle(a),c="other"!==this.ua?this.ua+"Transform":"transform";return b[c]||b.transform},getBezierSupport:function(){return e(this.os)?!1:!0}},$.extend(a,{vendorPatch:new g})}(hxManager),function(a){var b={linear:{p1:.25,p2:.25,p3:.75,p4:.75},ease:{p1:.25,p2:.1,p3:.25,p4:1},"ease-in":{p1:.42,p2:0,p3:1,p4:1},"ease-out":{p1:0,p2:0,p3:.58,p4:1},"ease-in-out":{p1:.42,p2:0,p3:.58,p4:1},easeInQuad:{p1:.55,p2:.085,p3:.68,p4:.53},easeInCubic:{p1:.55,p2:.055,p3:.675,p4:.19},easeInQuart:{p1:.895,p2:.03,p3:.685,p4:.22},easeInQuint:{p1:.755,p2:.05,p3:.855,p4:.06},easeInSine:{p1:.47,p2:0,p3:.745,p4:.715},easeInExpo:{p1:.95,p2:.05,p3:.795,p4:.035},easeInCirc:{p1:.6,p2:.04,p3:.98,p4:.335},easeInBack:{p1:.6,p2:-.28,p3:.735,p4:.045},easeOutQuad:{p1:.25,p2:.46,p3:.45,p4:.94},easeOutCubic:{p1:.215,p2:.61,p3:.355,p4:1},easeOutQuart:{p1:.165,p2:.84,p3:.44,p4:1},easeOutQuint:{p1:.23,p2:1,p3:.32,p4:1},easeOutSine:{p1:.39,p2:.575,p3:.565,p4:1},easeOutExpo:{p1:.19,p2:1,p3:.22,p4:1},easeOutCirc:{p1:.075,p2:.82,p3:.165,p4:1},easeOutBack:{p1:.175,p2:.885,p3:.32,p4:1.275},easeInOutQuad:{p1:.455,p2:.03,p3:.515,p4:.955},easeInOutCubic:{p1:.645,p2:.045,p3:.355,p4:1},easeInOutQuart:{p1:.77,p2:0,p3:.175,p4:1},easeInOutQuint:{p1:.86,p2:0,p3:.07,p4:1},easeInOutSine:{p1:.445,p2:.05,p3:.55,p4:.95},easeInOutExpo:{p1:1,p2:0,p3:0,p4:1},easeInOutCirc:{p1:.785,p2:.135,p3:.15,p4:.86},easeInOutBack:{p1:.68,p2:-.55,p3:.265,p4:1.55},easeOutBackMod1:{p1:.7,p2:-1,p3:.5,p4:2},easeMod1:{p1:.25,p2:.2,p3:.25,p4:1}},c={easeInBack:{p1:.6,p2:0,p3:.735,p4:.045},easeOutBack:{p1:.175,p2:.885,p3:.32,p4:1},easeInOutBack:{p1:.68,p2:0,p3:.265,p4:1},easeOutBackMod1:{p1:.7,p2:0,p3:.5,p4:1}},d=function(d){var e={};return e="object"==typeof d?d:c[d]&&!a.vendorPatch.getBezierSupport()?c[d]:b[d]?b[d]:b.ease,"cubic-bezier("+e.p1+", "+e.p2+", "+e.p3+", "+e.p4+")"};$.extend(a,{_easing:d})}(hxManager),function(a){var b=function(a){a=$.extend({timeout:null,buffer:50},a),$.extend(this,a)};b.prototype={start:function(){if(this.fallback!==!1){var a=this.duration+this.delay+this.buffer;this.element.addEventListener(this.eventType,this),this.element.addEventListener("hx_init",this);var b=function(){this.trigger("hx_fallback",this.property),this.trigger(this.eventType,{propertyName:this.property})}.bind(this);this.timeout=setTimeout(b,a)}},handleEvent:function(a){switch(a.type){case this.eventType:var b=a.propertyName||a.detail.propertyName,c=new RegExp(this.property,"i");c.test(b)&&(this.destroy(),this.complete(a,this.property));break;case"hx_init":this.cancel()}},destroy:function(){clearTimeout(this.timeout),this.element.removeEventListener(this.eventType,this),this.element.removeEventListener("hx_init",this)}},$.extend(a,{animator:b})}(hxManager),function(a){function b(a){var b={translate:"translate3d",scale:"scale3d",rotate:"rotate3d"};for(var c in a)b[c]&&(a[b[c]]=a[c],delete a[c]);return a}a.fn.hx=function(b,c){var d=this;return d.hxManager||(d=new hxManager(a(this).get(0))),b&&a.fn.hx[b].call(d,c),d},a.fn.hx.transform=function(c){c=a.extend({duration:400,easing:"ease",delay:0,relative:!0},c||{});var d=b(c);c.relative?this.apply("transform",d):this.set("transform",d)},a.fn.hx.fadeOut=function(b){function c(){function a(){this.setTransition("opacity",{duration:0,delay:0}),c.progress()}function b(){this.element.style.display="none",this.element.style.opacity=1,c.progress()}var c=new hxManager.workflow;c.add(a,this),c.add(b,this),c.run()}b=a.extend({duration:400,easing:"ease",delay:0,pseudoHide:!0},b||{});var d=function(e){"opacity"===e.originalEvent.detail.propertyName&&(a(this).off("hx_transitionEnd",d),b.pseudoHide?this.element.style.visibility="hidden":c.call(this))}.bind(this);hxManager.helper.hxInst.prepForFade.call(this,"out"),a(this).on("hx_transitionEnd",d),a(this).on("hx_cancel",function f(){a(this).off("hx_cancel",f),a(this).off("hx_transitionEnd",d)});var e=a.extend({},b,{opacity:0});this.set("opacity",e)},a.fn.hx.fadeIn=function(b){b=a.extend({duration:400,easing:"ease",delay:0},b||{}),hxManager.helper.hxInst.prepForFade.call(this,"in");var c=a.extend({},b,{opacity:1});this.set("opacity",c)},a.fn.hx.cancel=function(){},a.fn.hx.debug=function(b){for(var c=(Array.isArray(b.events)?b.events:[b.events])||[],d=b.log||function(a){console.log(a)},e=function(b){a(this.element).on(b,function(a){switch(b){case"hx_init":d("new hxManager instance");break;case"hx_setTransition":d("updated "+a.originalEvent.detail.propertyName+" transition "+a.originalEvent.detail.string);break;case"hx_applyXform":d("applied "+a.originalEvent.detail.propertyName+" "+a.originalEvent.detail.string);break;case"hx_transitionEnd":d(a.originalEvent.detail.propertyName+" complete");break;case"hx_fallback":d(a.originalEvent.detail.propertyName+" fallback triggered");break;case"hx_cancel":d("hxManager instance canceled");break;case"hx_done":d("done")}})}.bind(this),f=0;f<c.length;f++)e(c[f])}}(jQuery);