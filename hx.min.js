/*! jQuery.hx - 0.5.3 - Bernard McManus - 2014-01-10 */
!function(){var a={debug:{oncreate:!1,queue:!1,components:!1,tString:!1,transitionEndEvent:!1,fallback:!1,onComplete:!1,onCancel:!1}};window.hxManager=function(b){if(!b)throw"Error: You must pass an element to the hxManager constructor.";return a.debug.oncreate&&hxManager.log("new hxManager instance"),$.extend(this,{element:b,queue:{},components:{},_callback:function(){}}),this.keys={config:["property","value","duration","easing","delay","done","fallback"],calculated:["width","height"],nonXform:["opacity"]},this._init()},hxManager.prototype={_init:function(){this.vendorPatch=new hxManager.vendorPatch;var a=this.vendorPatch.createEvent("hxManagerInit");this.element.dispatchEvent(a),this._checkDisplayState(this.element)||this._prepHiddenElement();var b=$(this.element);return b.hxManager=1,$.extend(b,this),b},_checkDisplayState:function(a){var b=this._getHXDisplay(a),c=a.style.display,d=null;if(null===b||void 0===b){var e=window.getComputedStyle(a).display;"none"!==e&&""===c?b=0:"none"!==e&&e===c?b=1:"none"===e&&""===c?b=2:"none"===e&&e===c&&(b=3),this._setHXDisplay(this.element,b)}switch(b){case 0:case 3:d="none"!==c;break;case 1:case 2:d="none"!==c&&""!==c}return d},_getHXDisplay:function(a){var b=a.getAttribute("hx_display");return null!==b&&(b=parseInt(b,10)),b},_setHXDisplay:function(a,b){a.setAttribute("hx_display",b)},_prepHiddenElement:function(){function a(){this.setTransition("opacity",{duration:0,delay:0}),d.progress()}function b(){this.element.style.opacity=0,this.element.style.display="block",d.progress()}function c(){this.element.getBoundingClientRect(),d.progress()}var d=new hxManager.workflow;d.add(a,this),d.add(b,this),d.add(c,this),d.run()},_getComputedStyle:function(a){if(!(this.keys.nonXform.indexOf(a)>=0)){var b=this.vendorPatch.getComputedMatrix(this);this._isHXTransform(b)!==!1&&(this.components.transform=this.components.transform||{},this.components.transform.computed=this._parse(b))}},apply:function(a,b){return this._getComputedStyle(a),this.set(a,b,!0)},set:function(b,c,d){if(this.components[b]=this.components[b]||{},d="undefined"!=typeof d?d:!1,d||"undefined"==typeof this.components[b].computed||delete this.components[b].computed,this.components[b]=$.extend(this.components[b],this._getRawComponents(c)),a.debug.components&&hxManager.log(this.components),this.queue[b]=new hxManager.animator({manager:this,element:this.element,vendorPatch:this.vendorPatch,property:b,value:this.keys.nonXform.indexOf(b)<0?this._buildTransformString(this.components[b]):this.components[b][b][0],duration:c.duration||0,easing:hxManager._easing(c.easing),delay:c.delay||0,fallback:c.fallback,done:c.done||[],debug:a.debug}),a.debug.queue&&hxManager.log($.extend({},this.queue)),this.setTransition(b),this.queue[b]){var e={property:this.vendorPatch.getPrefixed(b),value:this.vendorPatch.getPrefixed(this.queue[b].value)};$(this.element).css(e.property,e.value),this.queue[b].start()}return this},setTransition:function(b,c){if(b){c=c||{},this.queue[b]=this.queue[b]||{easing:"ease",duration:0,delay:0},this.queue[b]=$.extend(this.queue[b],c),"undefined"!=typeof c.easing&&(this.queue[b].easing=hxManager._easing(c.easing));var d=this._buildTransitionString();d=this.vendorPatch.getPrefixed(d);var e=this.vendorPatch.getPrefixed("transition");this.element.style.transition!==d&&($(this.element).css(e,d),a.debug.tString&&hxManager.log(e+": "+d))}},_mapVectorToArray:function(a){if(hxManager.objSize(a)<1&&!Array.isArray(a))return[a];if(Array.isArray(a))return a;var b=a,c=[],d=0,e={x:0,y:1,z:2,a:3};for(var f in b)d=e[f],c[d]=b[f];return c},_getRawComponents:function(a){var b=[],c={};for(var d in a)if(!(this.keys.config.indexOf(d)>=0)){var e=this._mapVectorToArray(a[d]);switch(d){case"matrix3d":b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;case"matrix":b=[1,0,0,1,0,0];break;case"translate3d":b=[0,0,0];break;case"scale3d":b=[1,1,1];break;case"rotate3d":b=[0,0,0,0];break;case"opacity":b=[0]}e=$.extend(b,e),c[d]=e}return c},_buildComponentString:function(a,b){var c="",d="";switch(a){case"computed":a=b.type,b=b.transform,c=", ",d="";break;case"translate3d":c="px, ",d="px";break;case"matrix3d":case"matrix":case"scale3d":c=", ",d="";break;case"rotate3d":c=", ",d="deg"}return a+"("+b.join(c)+d+")"},_buildTransformString:function(a){var b=[];for(var c in a)if(this.keys.config.indexOf(c)<0){var d=this._buildComponentString(c,a[c]);b.push(d)}return b.join(" ")},_buildTransitionString:function(){var a=[];for(var b in this.queue){var c=b+" "+this.queue[b].duration+"ms "+this.queue[b].easing+" "+this.queue[b].delay+"ms";a.indexOf(c)<0&&a.push(c)}return a.join(", ")},_isHXTransform:function(a){if(!a)return!1;for(var b=["matrix","matrix3d"],c=!1,d=0;d<b.length;d++){var e=new RegExp(b[d]+"\\(","gi");if(e.test(a)){c=b[d];break}}return c},_parse:function(a){var b=this._isHXTransform(a);if(!a||!b)return{};a=a.replace(/(px|\s|\))/gi,"").split("(")[1].split(",");var c=Array.prototype.map;return a=c.call(a,function(a){return parseFloat(a,10)}),{type:b,transform:a}},_transitionEnd:function(b,c){if(a.debug.transitionEndEvent&&hxManager.log(c+" complete"),"undefined"!=typeof this.queue[c]&&"function"==typeof this.queue[c].done[0])for(var d=0;d<this.queue[c].done.length;d++)this.queue[c].done[d].call(this,b);delete this.queue[c],hxManager.objSize(this.queue)<1&&(a.debug.onComplete&&hxManager.log("done"),"function"==typeof this._callback&&this._callback.call(this,b),this.hxManager=0)},done:function(a){this._callback=a||function(){}},cancel:function(){for(var a in this.queue)this.queue[a].destroy()}},hxManager.pseudoHide=function(a){$(a).addClass("hx_pseudoHide").css("pointer-events","none")},hxManager.pseudoShow=function(a){$(a).hasClass("hx_pseudoHide")&&$(a).removeClass("hx_pseudoHide").css("pointer-events","auto")},hxManager.objSize=function(a){if("object"!=typeof a)return 0;var b,c=0;for(b in a)b in a&&c++;return c},hxManager.log=function(a,b){b=b||"log";try{window.logger?window.logger.log(a):console[b](a)}catch(c){}},hxManager.setDebugFlag=function(b){this.cdn.load("logger"),"undefined"!=typeof a.debug[b]&&(a.debug[b]=!0)}}(),function(a){var b=function(a){a=$.extend({queue:[],count:0,index:0,debug:!1},a||{}),$.extend(this,a),this._init()};b.prototype={_init:function(){this.count=this.queue.length},_valid:function(a){if("function"!=typeof a)throw"Error: Only functions can be queued in the workflow."},add:function(a,b){b=b||a,this._valid(a);var c=function(c){a.apply(b,c)};this.queue.push(c),this.count++},run:function(){this._doWork(this.index,this.count,arguments)},progress:function(){this.debug&&a.log("completed task "+this.index),this.index++,this._doWork(this.index,this.count,arguments)},_doWork:function(b,c,d){c>b?this.queue[b].call(this,d):this.debug&&a.log("workflow complete")}},$.extend(a,{workflow:b})}(hxManager),function(a){var b=function(a){a=$.extend({vendors:{webkit:"webkit",moz:"firefox",o:"opera",ms:"msie"},events:{webkit:"webkitTransitionEnd",moz:"transitionend",o:"oTransitionEnd",ms:"transitionend"},prefixProps:["transition","transform"]},a||{}),$.extend(this,a),this._init()};b.prototype={_init:function(){this._getUserAgent()},_getUserAgent:function(){var a=navigator.userAgent;for(var b in this.vendors){var c=new RegExp(this.vendors[b],"i");if(c.test(a)){this.ua=b;break}}},getEventType:function(){return this.events[this.ua]},getPrefixed:function(a){for(var b=0;b<this.prefixProps.length;b++){var c=new RegExp("(?!-)"+this.prefixProps[b]+"(?!-)","g"),d=c.exec(a);d&&(a=a.replace(c,"-"+this.ua+"-"+d[0]))}return a},createEvent:function(a,b){if(a){b=b||{};var c={};try{c=new CustomEvent(a,{bubbles:!0,cancelable:!0,detail:b})}catch(d){c=document.createEvent("Event"),c.initEvent(a,!0,!0),c.detail=b}return c}},getComputedMatrix:function(a){var b=window.getComputedStyle(a.element),c=this.ua+"Transform";return b[c]||b.transform}},$.extend(a,{vendorPatch:b})}(hxManager),function(a){var b=function(a){var b={linear:{p1:.25,p2:.25,p3:.75,p4:.75},ease:{p1:.25,p2:.1,p3:.25,p4:1},"ease-in":{p1:.42,p2:0,p3:1,p4:1},"ease-out":{p1:0,p2:0,p3:.58,p4:1},"ease-in-out":{p1:.42,p2:0,p3:.58,p4:1},easeInQuad:{p1:.55,p2:.085,p3:.68,p4:.53},easeInCubic:{p1:.55,p2:.055,p3:.675,p4:.19},easeInQuart:{p1:.895,p2:.03,p3:.685,p4:.22},easeInQuint:{p1:.755,p2:.05,p3:.855,p4:.06},easeInSine:{p1:.47,p2:0,p3:.745,p4:.715},easeInExpo:{p1:.95,p2:.05,p3:.795,p4:.035},easeInCirc:{p1:.6,p2:.04,p3:.98,p4:.335},easeInBack:{p1:.6,p2:-.28,p3:.735,p4:.045},easeOutQuad:{p1:.25,p2:.46,p3:.45,p4:.94},easeOutCubic:{p1:.215,p2:.61,p3:.355,p4:1},easeOutQuart:{p1:.165,p2:.84,p3:.44,p4:1},easeOutQuint:{p1:.23,p2:1,p3:.32,p4:1},easeOutSine:{p1:.39,p2:.575,p3:.565,p4:1},easeOutExpo:{p1:.19,p2:1,p3:.22,p4:1},easeOutCirc:{p1:.075,p2:.82,p3:.165,p4:1},easeOutBack:{p1:.175,p2:.885,p3:.32,p4:1.275},easeInOutQuad:{p1:.455,p2:.03,p3:.515,p4:.955},easeInOutCubic:{p1:.645,p2:.045,p3:.355,p4:1},easeInOutQuart:{p1:.77,p2:0,p3:.175,p4:1},easeInOutQuint:{p1:.86,p2:0,p3:.07,p4:1},easeInOutSine:{p1:.445,p2:.05,p3:.55,p4:.95},easeInOutExpo:{p1:1,p2:0,p3:0,p4:1},easeInOutCirc:{p1:.785,p2:.135,p3:.15,p4:.86},easeInOutBack:{p1:.68,p2:-.55,p3:.265,p4:1.55},easeOutBackMod1:{p1:.7,p2:-1,p3:.5,p4:2},easeMod1:{p1:.25,p2:.2,p3:.25,p4:1}},c={};return c="object"==typeof a?a:b[a]?b[a]:b.ease,"cubic-bezier("+c.p1+", "+c.p2+", "+c.p3+", "+c.p4+")"};$.extend(a,{_easing:b})}(hxManager),function(a){var b=function(a){a=$.extend({timeout:null,buffer:50},a),$.extend(this,a)};b.prototype={start:function(){if(this.fallback!==!1){var b=this,c=this.duration+this.delay+this.buffer;this.element.addEventListener(this.vendorPatch.getEventType(),this),this.element.addEventListener("hxManagerInit",this),this.timeout=setTimeout(function(){b.debug.fallback&&a.log(b.property+" fallback triggered"),b._dispatchEvent.call(b)},c)}},handleEvent:function(b){switch(b.type){case"webkitTransitionEnd":case"transitionend":case"oTransitionEnd":var c=b.propertyName||b.detail.propertyName,d=new RegExp(this.property,"i");d.test(c)&&(this.destroy(),this.manager._transitionEnd.call(this.manager,b,this.property));break;case"hxManagerInit":this.manager.cancel(),this.debug.onCancel&&a.log("hxManager instance canceled")}},_dispatchEvent:function(){var a=this.vendorPatch.getEventType(),b=this.vendorPatch.createEvent(a,{propertyName:this.property});this.element.dispatchEvent(b)},destroy:function(){clearTimeout(this.timeout),this.element.removeEventListener(this.vendorPatch.getEventType(),this),this.element.removeEventListener("hxManagerInit",this)}},$.extend(a,{animator:b})}(hxManager),function(a){function b(a){var b={translate:"translate3d",scale:"scale3d",rotate:"rotate3d"};for(var c in a)b[c]&&(a[b[c]]=a[c],delete a[c]);return a}a.fn.hx=function(b,c){var d=this;return d.hxManager||(d=new hxManager(a(this).get(0))),b&&a.fn.hx[b].call(d,c),d},a.fn.hx.transform=function(c){c=a.extend({duration:400,easing:"ease",delay:0,done:function(){},relative:!0},c||{}),c.done=function(){};var d=b(a.extend({},c,{done:[c.done]}));delete d.relative,c.relative?this.apply("transform",d):this.set("transform",d)},a.fn.hx.fadeOut=function(b){function c(){function a(){this.setTransition("opacity",{duration:0,delay:0}),c.progress()}function b(){this.element.style.display="none",this.element.style.opacity=1,c.progress()}var c=new hxManager.workflow;c.add(a,this),c.add(b,this),c.run()}function d(){b.pseudoHide?hxManager.pseudoHide(this.element):c.call(this)}b=a.extend({duration:400,easing:"ease",delay:0,done:function(){},pseudoHide:!0},b||{}),b.done=function(){};var e=a.extend({},b,{opacity:0,done:[d,b.done]});delete e.pseudoHide,this.set("opacity",e)},a.fn.hx.fadeIn=function(b){function c(){hxManager.pseudoShow(this.element)}b=a.extend({duration:400,easing:"ease",delay:0,done:function(){}},b||{}),b.done=function(){};var d=a.extend({},b,{opacity:1,done:[c,b.done]});this.set("opacity",d)},a.fn.hx.cancel=function(){}}(jQuery),function(a){a.fn.hx.draggable=function(b){function c(){this.draggable.touch={x:[],y:[],t:[]}}function d(){a(this.element).on("touchmove",i),a(this.element).on("touchend",j),a(window).on("mousemove",i),a(window).on("mouseup",j)}function e(){a(this.element).off("touchmove",i),a(this.element).off("touchend",j),a(window).off("mousemove",i),a(window).off("mouseup",j)}function f(a){var b={};switch(a.type){case"touchstart":case"touchmove":b.x=a.touches[0].clientX,b.y=a.touches[0].clientY;break;case"mousedown":case"mousemove":b.x=a.clientX,b.y=a.clientY}return b}b=a.extend({lockAxis:{x:0,y:0}},b||{});var g={options:b,touch:null},h=function(a){a=a.originalEvent,a.preventDefault(),c.call(this),d.call(this);var b=this.draggable,e=f(a);b.touch.x[0]=b.touch.x[2]=e.x,b.touch.y[0]=b.touch.y[2]=e.y,b.touch.t[0]=a.timeStamp}.bind(this),i=function(a){a=a.originalEvent,a.preventDefault();var b=this.draggable,c=f(a);if(b.touch){b.touch.x[1]=b.touch.x[2],b.touch.y[1]=b.touch.y[2],b.touch.t[1]=a.timeStamp,b.touch.x[2]=c.x,b.touch.y[2]=c.y;var d=b.options.lockAxis.x?0:b.touch.x[2]-b.touch.x[1],e=b.options.lockAxis.y?0:b.touch.y[2]-b.touch.y[1];this.apply("transform",{translate3d:{x:d,y:e},duration:0,fallback:!1})}}.bind(this),j=function(a){a=a.originalEvent,a.preventDefault(),e.call(this);var b=this.draggable;b.touch&&(b.touch.t[2]=a.timeStamp)}.bind(this);a(this.element).on("touchstart mousedown",h),a.extend(this,{draggable:g})},a.fn.hx.notify=function(b){if(!(a(this).find(".hx_notify").length>0)){var c=this;this.options=a.extend({message:"",timeout:1500,css:{},onOpen:function(){},onClose:function(){}},b||{}),this.dims=a(this).get(0).getBoundingClientRect(),this.Left=this.dims.left+Math.round(.1*this.dims.width),this.Width=this.dims.width-2*(this.Left-this.dims.left),this.Height=Math.round(.15*this.Width),this.fontSize=Math.round(.3*this.Height),this.radius=Math.round(.8*this.fontSize),this.padding=Math.round(.3*this.Height),this.Width-=2*this.padding,this.options.css=a.extend({"text-align":"center","font-size":this.fontSize+"px",color:"white",position:"fixed",left:this.Left+"px",top:0,width:this.Width+"px","line-height":1.5,padding:this.padding+"px","background-color":"rgba(0,0,0,0.8)","-webkit-border-radius":this.radius+"px","z-index":1e4,opacity:0},this.options.css);var d=document.createElement("div");a(d).addClass("hx_notify").css(this.options.css).html(this.options.message).appendTo(a(this));var e=d.getBoundingClientRect().height,f=Math.round((a(window).height()-e)/2);this.Top=this.options.css.top||f>=e?f:e,a(d).css("top",this.Top+"px"),this.overlay=a(d),this.open=function(){this.overlay.hx("fadeIn",{duration:300}).hx("transform",{translate3d:[0,-this.Height]}).done(this.options.onOpen)},this.close=function(){this.overlay.hx("transform",{translate3d:0,relative:!1}).hx("fadeOut",{duration:300}).done(function(b){c.options.onClose(b),a(this.element).remove()})},this.open(),this.options.timeout>0&&setTimeout(function(){c.close()},this.options.timeout)}}}(jQuery),function(a){function b(){return"?r="+Math.round((new Date).getTime()/1e3)}function c(a,c){a+=b(),c=c||function(){};var d=$.ajax({url:a,dataType:"jsonp"});d.done(function(a){$("body").append(a.document),c()})}function d(a,c){c=c||function(){},a+=b();var d=document.createElement("link");d.onload=c,d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),d.setAttribute("href",a),$("head").prepend(d)}function e(a,c){a+=b(),c=c||function(){},$.getScript(a,c)}function f(b){function f(){c(b.base+b.html,function(){i.progress()})}function g(){d(b.base+b.css,function(){i.progress()})}function h(){e(b.base+b.js,function(){i.progress()})}if("success"===b.status){var i=new a.workflow;b.html&&i.add(f),b.css&&i.add(g),b.js&&i.add(h),i.run()}}var g=function(){$.extend(this,{key:null,manifest:"http://bmcmanus.cs.sandbox.millennialmedia.com/jquery.hx/cdn/manifest/",components:[]})};g.prototype={setKey:function(a){this.key=a},setManifestPath:function(a){this.manifest=a},load:function(a,c){if(this.key&&!(this.components.indexOf(a)>=0)){this.components.push(a),c=c||function(){};var d={request:{key:this.key,component:a}},e=$.ajax({url:this.manifest+b(),dataType:"jsonp",data:d});e.done(f)}}},$.extend(a,{cdn:new g})}(hxManager);