/*! MOJO - 0.1.2 - Bernard McManus - f7612a8 - 2014-07-22 */
var _MOJO={},MOJO={};_MOJO.EventHandler=function(){function a(a,b){var c=this;c.handler=a,c.args=function(a){return a=void 0!==a?a:[],a instanceof Array?a:[a]}(b)}return a.prototype={invoke:function(a,b){var c=this,d=c.args.concat(b||[]);d.unshift(a),c.handler.apply(null,d)}},a}(),_MOJO.Event=function(){function a(a,b){var c=this,d=!1;c.bubbles=d,c.cancelBubble=d,c.cancelable=d,c.defaultPrevented=d,c.target=a,c.type=b,c.timeStamp=Date.now()}return a.prototype={preventDefault:function(){this.defaultPrevented=!0},stopPropagation:function(){this.cancelBubble=!0}},a}(),_MOJO.When=function(a,b){function c(a,b){return a.map(function(a){return a.handler}).indexOf(b)}function d(a){return Array.prototype.shift.call(a)}function e(a,b){a.split(" ").forEach(b)}return{when:function(){var b=this,c=arguments,f=d(c),g=c.length>1?d(c):g,h=d(c);e(f,function(c){var d=new a(h,g);b._addHandler(c,d)})},happen:function(a,c){function d(a,b){var c=g(a);return c.indexOf(b)>=0}var f=this,g=f._getHandlers.bind(f);e(a,function(a){var e=g(a),h=new b(f,a);e.forEach(function(b){d(a,b)&&b.invoke(h,c)})})},dispel:function(a,b){var c=this,d=c._getHandlers.bind(c);e(a,function(a){b?c._removeHandler(d(a),b):delete d()[a]})},_getHandlers:function(a){var b=this,c=b.handlers=b.handlers||{};return a?c[a]||[]:c},_addHandler:function(a,b){var c=this,d=c.handlers=c.handlers||{};(d[a]=d[a]||[]).push(b)},_removeHandler:function(a,b){var d=c(a,b);d>=0&&a.splice(d,1)}}}(_MOJO.EventHandler,_MOJO.Event),MOJO=function(a){function b(a){a=a||{};var c=this;b.Each(a,function(a,b){c[b]=a}),b.Construct(c)}var c=b.prototype=Object.create(a.When);return c.each=function(a){var c=this;b.Each(c,a,c.keys)},c.set=function(a,b){var c=this;return c[a]=b,c.happen("set",a),c[a]},c.remove=function(a){var b=this;delete b[a],b.happen("remove",a)},b}(_MOJO),MOJO.Each=function(){function a(a,b,c){(c||Object.keys(a)).forEach(function(c,d){b(a[c],c,d)})}return a}(),MOJO.Create=function(){function a(a){var b=Object.create(MOJO.prototype);return MOJO.Each(a,function(a,c){b[c]=a}),b}return a}(),MOJO.Construct=function(){function a(a){var c={};Object.defineProperties(a,{handlers:b(function(){return c}),keys:b(function(){return Object.keys(a)}),values:b(function(){return a.keys.map(function(b){return a[b]})}),length:b(function(){return a.keys.length})})}function b(a){return{get:a,configurable:!0}}return a}(),function(a){"object"==typeof exports?module.exports=a:window.MOJO=a}(MOJO);