/*! jquery.hx - 1.0.5 - Bernard McManus - af6ec4c - 2015-03-21 */
!function(a){var b=this;"object"==typeof exports?module.exports=a:b.WeePromise=a}(function(a){"use strict";function b(a){var b=this;k([v,w,u],function(a){b[a]=[]}),h(function(){b[B]=e(b),i(b,function(){a(c(b,v),c(b,w))}),b[z]=!0})}function c(a,b){function c(d){h(a[z]?function(){a[s]||a[y](b,d)[y](u,d)}:function(){c(d)})}return c}function d(a,b,c,d,e){return function(){a=a.map(function(a){return g(a[t])?a[t]:a});var h=f(a,1),i=f(a,-1);if(j(h)===d){var k=h.map(function(a){return a[t][0]});b(e?k[0]:k)}else j(i)>0&&c(i[0][t][0])}}function e(a){return j(a[w])>0}function f(a,b){return a.filter(function(a){return a[s]===b})}function g(a){return a instanceof b}function h(b){a(b,1)}function i(a,b){try{return b()}catch(c){return a[y](w,c)}}function j(a){return a.length}function k(a,b){a.forEach(b)}var l,m="$$",n="prototype",o="always",p="then",q="catch",r=m+"pass",s=m+"state",t=m+"args",u=m+o,v=m+p,w=m+q,x=m+"add",y=m+"exec",z=m+"ready",A=m+"child",B=m+"handled",C=B+"Self",D={};return D[v]=1,D[w]=-1,b[n][x]=function(a,b){var c=this;return b&&c[a].push(b),c},b[n][y]=function(a,b){var c,d=this,e=d[a],f=j(e),h=0,k=D[a];return i(d,function(){for(;f>h;){if(k&&d[s]===k&&d[A]&&d[B]&&(e=!d[C]||d[z]?[]:e.slice(-1),h=f-1,!j(e)))return d;if(c=(k?e.shift():e[h]).apply(l,[b]),b=k?c:b,g(c))return d[r](c);if(a==w){if(d[B]&&(k=D[v],d[A]))return d[s]=k,d[t]=[c],d[y](v,c)[y](u,c);break}h++}return d[t]=d[s]?d[t]:[b],d[s]=k||d[s],d})},b[n][o]=function(a){return this[x](u,a)},b[n][p]=function(a,b){return this[x](v,a)[q](b)},b[n][q]=function(a){return this[x](w,a)},b[n][r]=function(a){var b=this;return a[C]=e(a),a[A]=!0,k([v,w,u],function(c){a[c]=a[C]?a[c].concat(b[c]):b[c]}),b[t]=a,a},b.all=function(a){return new b(function(b,c){k(a,function(e){e[o](d(a,b,c,j(a)))})})},b.race=function(a){return new b(function(b,c){k(a,function(e){e[o](d(a,b,c,1,!0))})})},b}(setTimeout));var _MOJO={},MOJO={};_MOJO.Shared=function(a,b){function c(a){return a.length}function d(b){return a.keys(b)}function e(a){return b.prototype.shift.call(a)}function f(a){return a instanceof b?a:a!==i?[a]:[]}function g(a,b){return{get:a,set:b,configurable:!0}}function h(a){return(a||{})[j]?a[j]:a}var i,j="handleMOJO";return{length:c,keys:d,shift:e,ensureArray:f,descriptor:g,getHandlerFunc:h}}(Object,Array),_MOJO.EventHandler=function(a){function b(a,b,c){var e=this;e.handler=a,e.context=b,e.active=!0,e.callback=function(){},e.args=d(c)}var c=a.Shared,d=c.ensureArray;return b.prototype={invoke:function(a,b){var c=this,e=c.handler;if(c.active&&!a.isBreak&&!a.shouldSkip(e)){var f=c.args.concat(d(b));f.unshift(a),e.apply(c.context,f),c.callback(a,e)}}},b}(_MOJO),_MOJO.Event=function(a,b){function c(b,c){var d=this;d.isBreak=e,d.cancelBubble=e,d.defaultPrevented=e,d.skipHandlers=[],d.target=b,d.type=c,d.timeStamp=a.now()}var d=!0,e=!1,f=b.Shared,g=f.ensureArray,h=f.getHandlerFunc;return c.prototype={skip:function(a){var b=this.skipHandlers;g(a).forEach(function(a){b.push(h(a))})},shouldSkip:function(a){return this.skipHandlers.indexOf(a)>=0},"break":function(){this.isBreak=d},preventDefault:function(){this.defaultPrevented=d},stopPropagation:function(){this.cancelBubble=d}},c}(Date,_MOJO),_MOJO.When=function(a,b,c){function d(a,b){return l(a).map(function(a){return a.handler}).indexOf(b)}function e(a,c){(a instanceof b?a:a.split(" ")).forEach(c)}function f(a,b){return a===b?null:a}var g=c.Shared,h=c.EventHandler,i=c.Event,j=g.keys,k=g.shift,l=g.ensureArray,m=g.length,n=g.getHandlerFunc,o={once:function(){var a=this,b=a._when(arguments);return b.forEach(function(a){a.callback=function(){this.active=!1}}),a},when:function(){var a=this;return a._when(arguments),a},_when:function(a){var b=this,c=k(a),d=m(a)>1?k(a):d,g=[],i=k(a),j=n(i),l=f(i,j);return e(c,function(a,c){g.push(new h(j,l,d)),b._addHandler(a,g[c])}),g},happen:function(a,b){var c=this;return a=c._ensureEType(a),e(a,function(a){var d=c._getHandlers(a,!0),e=new i(c,a);d.filter(function(a){return a.invoke(e,b),!a.active}).forEach(function(b){c._removeHandler(c._getHandlers(a),b.handler)})}),c},dispel:function(a,b){var c=this,d=c._getHandlers(),f=n(b);return a=c._ensureEType(a),e(a,function(a){f?c._removeHandler(d[a],f):delete d[a]}),c},_ensureEType:function(a){return a||j(this._getHandlers()).join(" ")},_getHandlers:function(b,c){var d=this,e=d.handlers=d.handlers||{},f=b?e[b]=e[b]||[]:e;return c?b?f.slice():a.create(f):f},_addHandler:function(a,b){var c=this;c._getHandlers(a).push(b)},_removeHandler:function(a,b){var c=d(a,b);c>=0&&a.splice(c,1)}};return o}(Object,Array,_MOJO),MOJO=function(a){function b(a){a=a||{};var c=this;b.Each(a,function(a,b){c[b]=a}),b.Construct(c)}var c=b.prototype=Object.create(a.When);return c.each=function(a){var c=this;return b.Each(c,a,c.keys),c},c.set=function(a,b){var c=this;return c[a]=b,c.happen("set",a),c},c.remove=function(a){var b=this;return delete b[a],b.happen("remove",a),b},b}(_MOJO),MOJO.Each=function(a){function b(a,b,c){(c||d(a)).forEach(function(c,d){b(a[c],c,d)})}var c=a.Shared,d=c.keys;return b}(_MOJO),MOJO.Create=function(a,b){function c(c){var d=a.create(b.prototype);return b.Each(c,function(a,b){d[b]=a}),d}return c}(Object,MOJO),MOJO.Construct=function(a,b){function c(b){var c={};a.defineProperties(b,{handlers:{get:function(){return c},set:function(a){c=a},configurable:!0},keys:f(function(){return e(b)}),length:f(function(){return g(b.keys)}),handleMOJO:{value:(b.handleMOJO||function(){}).bind(b),configurable:!0}})}var d=b.Shared,e=d.keys,f=d.descriptor,g=d.length;return c}(Object,_MOJO),function(a){"object"==typeof exports?module.exports=a:window.MOJO=a}(MOJO),function(a){window.BezierEasing=a()}(function(){function a(a,b,j,k){function l(a,b){return 1-3*b+3*a}function m(a,b){return 3*b-6*a}function n(a){return 3*a}function o(a,b,c){return((l(b,c)*a+m(b,c))*a+n(b))*a}function p(a,b,c){return 3*l(b,c)*a*a+2*m(b,c)*a+n(b)}function q(b,d){for(var e=0;c>e;++e){var f=p(d,a,j);if(0===f)return d;var g=o(d,a,j)-b;d-=g/f}return d}function r(){for(var b=0;g>b;++b)w[b]=o(b*h,a,j)}function s(b,c,d){var g,h,i=0;do h=c+(d-c)/2,g=o(h,a,j)-b,g>0?d=h:c=h;while(Math.abs(g)>e&&++i<f);return h}function t(b){for(var c=0,e=1,f=g-1;e!=f&&w[e]<=b;++e)c+=h;--e;var i=(b-w[e])/(w[e+1]-w[e]),k=c+i*h,l=p(k,a,j);return l>=d?q(b,k):0==l?k:s(b,c,c+h)}function u(){x=!0,(a!=b||j!=k)&&r()}if(4!==arguments.length)throw new Error("BezierEasing requires 4 arguments.");for(var v=0;4>v;++v)if("number"!=typeof arguments[v]||isNaN(arguments[v])||!isFinite(arguments[v]))throw new Error("BezierEasing arguments should be integers.");if(0>a||a>1||0>j||j>1)throw new Error("BezierEasing x values must be in [0, 1] range.");var w=i?new Float32Array(g):new Array(g),x=!1,y=function(c){return x||u(),a===b&&j===k?c:0===c?0:1===c?1:o(t(c),b,k)},z="BezierEasing("+[a,b,j,k]+")";return y.toString=function(){return z},y}var b=this,c=4,d=.001,e=1e-7,f=10,g=11,h=1/(g-1),i="Float32Array"in b;return a}),window.hxManager=function(a){var b=this;return b._init(b,a)},hxManager.__ready=function(){hxManager.Inject([document,Error,jQuery,WeePromise,MOJO,hxManager,"DomNodeFactory","PodFactory","Bean","IteratorMOJO","defProp","create","descriptor","ensureArray","isFunc","isUndef","instOf","length","PROTOTYPE"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(a,b){return w(a).forEach(function(a,c){b(a.$hx,a,c)}),a}function u(a){return c.hx.subscribe(a)}function v(a,b){return b.bind(a)}function w(a){return a.toArray()}var x=f[s]=l(c[s]);x._init=function(a,b){return q(b,f)?b:(b.each(function(c){a[c]=g(b[c])}),k(a,"length",m(function(){return r(b)})),a)},x.animate=function(a){var b=this;return t(b,function(c,d,e){var f=h(d,"animation");n(a).forEach(function(a){if(o(a))f.addCallback(v(b,a));else{var c=new i(a,d,e);f.addBean(c)}}),c.addPod(f)})},x.iterate=function(a){var b=this;return t(b,function(c,d,e){var f=h(d,"precision");n(a).forEach(function(a){if(o(a))f.addCallback(v(b,a));else{var c=new i(a,d,e),g=new j(d,c);f.addBean(g)}}),c.addPod(f)})},x.promise=function(e,f){f=f||"all";var g=this,i=w(g).map(function(a){var b=a.$hx,c=h(a,"promise");return b.addPod(c),c});return d[f](i).then(function(){new d(v(g,e)).then(function(){i.forEach(function(a){a.resolvePod()})})["catch"](function(d){g.clear().trigger("hx.reject",arguments),q(d,b)&&(c.hx.error(d),c(a).trigger("hx.error",d))})}),g},x.pause=function(){return this._precAction("pause")},x.resume=function(){return this._precAction("resume")},x._precAction=function(a,b){b=b||0;var c=this,d=w(c).map(function(a){return a.$hx.getCurrentPod()}).filter(function(a){return"precision"===a.type});if(r(d)!==r(c)&&10>b)var e=u(function(){b++,e(),c._precAction(a,b)});else d.forEach(function(b){b[a]()});return c},x.paint=function(a){return t(this,function(b){b.paint(a)})},x.reset=function(a){return t(this,function(b){b.resetComponents(a)})},x.then=function(a){return this.promise(a)},x.race=function(a){return this.promise(a,"race")},x.defer=function(a){return this.promise(function(b){if(a)var c=u(function(d){d>=a&&(c(),b())})})},x.update=function(a){var b=this;return n(a).forEach(function(a){t(b,function(b,c,d){var e=new i(a,c,d);b.updateComponent(e)})}),b},x.resolve=function(a){return a=p(a)?!1:a,t(this,function(b){var c=b.getCurrentPod();c&&(a||!a&&"promise"===c.type)&&c.resolvePod()})},x.detach=function(){return t(this,function(a){var b=a.getCurrentPod();b&&b.detach()})},x.clear=function(){return t(this,function(a){a.clearQueue()})},x["break"]=function(){var a=this;return t(a,function(a){a.clearQueue(!1)}),a.resolve()},x.zero=function(a){var b=this;return b.update(a),t(b,function(a){a.resetTransition(),a.applyTransition()}),b.paint()},x.done=function(a){var b=this;b.promise(function(c){(a||function(){}).call(b),c()})},x.get=function(a,b){return w(this).map(function(c){return c.$hx.getComponents(a,b)})},x.cleanup=function(){t(this,function(a){a.cleanup()})},c(a).trigger("hx.ready")})},hxManager.Helper=function(a,b,c,d){function e(a,b){if(!a||!b)return!1;if(f(a)!=f(b))return!1;for(var c=0,d=f(a);d>c;c++)if(g(a[c])&&g(b[c])){if(!e(a[c],b[c]))return!1}else if(a[c]!==b[c])return!1;return!0}function f(a){return a.length}function g(a){return h(a,c)}function h(a,b){return a instanceof b}function i(a,b){return typeof a===b}function j(a,b){for(var c in a){if(c===b)return a[c];if(b in a[c])return j(a[c],b)}}var k,l=null,m="prototype",n="call";return{NULL:l,PROTOTYPE:m,compareArray:e,ensureArray:function(a){return g(a)?a:[a]},length:f,shift:function(a){return c[m].shift[n](a)},pop:function(a){return c[m].pop[n](a)},descriptor:function(a,b){return{get:a,set:b}},indexOf:function(a,b){return a.indexOf(b)},keys:function(a){return b.keys(a)},create:function(a){return b.create(a)},defProp:function(a,c,d){b.defineProperty(a,c,d)},defProps:function(a,c){b.defineProperties(a,c)},has:function(a,b){return a.hasOwnProperty(b)},is:i,del:function(a,b){delete a[b]},instOf:h,isFunc:function(b){return h(b,a)},isObj:function(a,c){return c?h(a,b):i(a,"object")},isArr:g,isNum:function(a){return!d(1*a)},isNull:function(a){return a===l},isUndef:function(a){return a===k},test:function(a,b){return a.test(b)},treeSearch:j}}(Function,Object,Array,isNaN),hxManager.Inject=function(a){function b(){var b=arguments,h=e(b),i=e(b)||c(h);return i=i.map(function(b){var c;return c=g(b,"string")?f(d,b)?d[b]:a[b]:b}),h.apply(null,i)}function c(a){return/\((.*?)\)/.exec(a.toString()).pop().replace(/(\s|(\/\*)(.*?)(\*\/))/g,"").split(",")}var d=a.Helper,e=d.pop,f=d.has,g=d.is;return b.parse=c,b}(hxManager),hxManager.Config=hxManager.Inject([MOJO,"defProps","descriptor"],function(a,b,c){var d={},e={buffer:1e3/60*2,optionKeys:["ref","type","duration","easing","delay","done","order"],properties:d,defaults:{ref:null,duration:400,easing:"ease",delay:0,done:function(){}}};return b(d,{inverse:c(function(){var b={};return a.Each(this,function(a,c){b[a]=c}),b})}),e}),hxManager.VendorPatch=hxManager.Inject([window,navigator,Date,RegExp,setTimeout,clearTimeout,"instOf","test","indexOf"],function(a,b,c,d,e,f,g,h,i){function j(){function b(){return c.now()-g}var d="equestAnimationFrame",g=c.now();return(a["r"+d]||a["webkitR"+d]||a["mozR"+d]||a["oR"+d]||a["msR"+d]||function(a){var c=e(function(){a(b()),f(c)},1e3/60)}).bind(null)}function k(a){for(var b in a)if(h(a[b],n))return b;return m}function l(a){return"android"===a&&!h(/(chrome|firefox)/i,n)}var m="other",n=b.userAgent,o={webkit:/webkit/i,moz:/firefox/i,o:/opera/i,ms:/msie/i},p={android:/android/i,ios:/(ipad|iphone|ipod)/i,macos:/mac os/i,windows:/windows/i},q=[/(?!\-)transform/g,/(?!\-)transition/g,{regx:/(?!\-)filter/g,omit:["ms"]}],r=k(o),s=k(p);return{RAF:j(),unclamped:function(){return l(s)===!1},prefix:function(a){return r===m?a:(q.forEach(function(b){var c,e=[];if(g(b,d)?c=b:(c=b.regx,e=b.omit||e),i(e,r)<0){var f=c.exec(a);f&&(a=a.replace(c,"-"+r+"-"+f[0]))}}),a)}}}),hxManager.Bezier=hxManager.Inject([Array,Error,BezierEasing,"VendorPatch","PROTOTYPE","create","defProps","descriptor","isUndef"],function(a,b,c,d,e,f,g,h,i){function j(a,b){var d=this,e=c.apply(null,b);b.forEach(function(a){d.push(l?a:k(a))}),g(d,{name:{value:a},string:h(function(){return"cubic-bezier("+d.join(",")+")"}),"function":{value:e}})}function k(a){return 0>a?0:a>1?1:a}var l=d.unclamped();j.define=function(a,c){if(!i(m[a]))throw new b(a+" is already defined");return m[a]=new j(a,c),m[a]},j.retrieve=function(a){return m[a]||m[m["default"]]},j[e]=f(a[e]);var m={"default":"ease"};return j}),hxManager.Easing=hxManager.Inject(["Bezier","NULL","is"],function(a,b,c){function d(d){var e;return c(d,"string")?e=a.retrieve(d):c(d,"object")&&(e=new a(b,d)),e}return d}),hxManager.StyleDefinition=hxManager.Inject([Error,"Config","ensureArray","pop","shift","isUndef"],function(a,b,c,d,e,f){function g(){var a=this,b=arguments,c=i.other;a.name=e(b),a.pName=b[0]||a.name,a.defaults=c.defaults,a.keymap=c.keymap,a.stringGetter=function(a,b){return b[0]}}var h=b.properties;g.define=function(){var b=arguments,c=d(b),e=b[0]||c;if(i[c])throw new a(c+" is already defined");return c!==e&&(h[e]=c),i[c]=new g(c,e),i[c]},g.isDefined=function(a){return!f(i[a])},g.retrieve=function(a){return i[a]||new g(a)},g.prototype={set:function(a,b){var d=this;return("defaults"===a||"keymap"===a)&&(b=c(b)),d[a]=b,d},toString:function(a){return this.stringGetter(a.name,a)}};var i={other:{defaults:[""],keymap:[0]}};return g}),hxManager.CSSProperty=hxManager.Inject([Array,parseFloat,eval,"StyleDefinition","PROTOTYPE","NULL","compareArray","defProps","descriptor","keys","create","length","instOf","isArr","isObj","isUndef"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a,b){var c,e=this,f=d.retrieve(a);h(e,{name:i(function(){return a}),pName:i(function(){return f.pName}),defaults:i(function(){return f.defaults}),isNull:i(function(){return c},function(a){c=a}),keymap:i(function(){return f.keymap}),string:i(function(){return f.toString(e)}),length:i(function(){return l(j(e))}),values:i(function(){if(1===l(e))return e[0];for(var a,b={},c=e.keymap,d=0;d<l(c);d++)a=c[d],b[a]=e[d];return b})}),e.defaults.forEach(function(a,b){e[b]=a}),e.update(b)}function r(a){var c=/(\+|\-|\*|\/|\%)\=/,d={op:f,val:0},e=c.exec(a);return e&&(d.op=e[1],a=a.replace(c,"")),d.val=a,d.op&&(d.val=b(d.val,10)),d}var s=q[e]=k(a[e]);return s.clone=function(a){var b=this,c=a?b.defaults:b.values;return new q(b.name,c)},s.update=function(a){function b(a,b){var d=r(b);return d.op?c(a+d.op+d.val):d.val}a=m(a,q)&&a.isNull?f:a;var d,e,g=this,h=g.keymap;for(g.isNull=a===f,a=a||0===a?a:g.defaults,o(a)||(a=[a]),e=0;e<l(h);e++)d=n(a)?e:h[e],p(a[d])||(g[e]=b(g[e],a[d]))},s.isDefault=function(){var a=this;return a.isNull&&g(a,a.defaults)},q}),hxManager.ComponentMOJO=hxManager.Inject([MOJO,"StyleDefinition","CSSProperty","treeSearch","defProp","keys","indexOf","length","has","del","isUndef"],function(a,b,c,d,e,f,g,h,i,j,k){function l(){var b=this,c={};a.Construct(b),e(b,"order",{value:c})}function m(a,b){return b===n?a:b}var n="value";return l.prototype=a.Create({getString:function(a){var b=this,c=b.getOrder(a),d=c.map(function(c){var d=m(a,c),e=b.getComponents(d);return e=i(e,n)?e[n]:e,$.hx.preFilter&&(e=$.hx.preFilter(e)),e.isDefault()?"":e.string}).filter(function(a){return""!==a});return d.join(" ")},getComponents:function(a){var e=this,f=e;return a&&(f=d(e,a)),k(f)&&(f=b.isDefined(a)?new c(a,null):{}),f},updateComponent:function(b){var d=this,e=b.styles,g=b.type,i=d[g]=d[g]||{};a.Each(e,function(a,b){var e=m(g,b);k(i[b])?i[b]=new c(e,a):i[b].update(a),i[b].isDefault()&&(j(i,b),h(f(i))<1&&j(d,g))}),d._updateOrder(b)},getOrder:function(a){var b=this,c=b.order;return a?c[a]||[]:c},setOrder:function(a,b){var c=this,d=c.order;b?d[a]=b:j(d,a)},_updateOrder:function(a){var b=this,c=a.type,d=b.getOrder(c),e=a.order.passed,h=a.order.computed,i=e.concat(d,h),j=f(b.getComponents(c));i=i.filter(function(a,b){return g(i,a)===b&&g(j,a)>=0}),b.setOrder(c,i)}}),l}),hxManager.TransitionMOJO=hxManager.Inject([MOJO,"VendorPatch","Easing"],function(a,b,c){function d(){a.Construct(this)}function e(a){var b=a.options;return{duration:b.duration,easing:c(b.easing).string}}function f(a,b,c,d){return a+" "+b+"ms "+c+" "+d+"ms"}return d.prototype=a.Create({getString:function(){var a=this,c=[];return a.each(function(a,b){var d=a.duration,e=a.easing,g=f(b,d,e,0);c.push(g)}),b.prefix(c.join(", "))},setTransition:function(a){this.set(a.type,e(a))},deleteTransition:function(a){this.remove(a)}}),d}),hxManager.Queue=hxManager.Inject([Array,"PROTOTYPE","defProps","create","descriptor","ensureArray","isUndef","indexOf"],function(a,b,c,d,e,f,g,h){function i(){var a=this;c(a,{complete:e(function(){return!j(a)})})}function j(a){return a.length}var k=i[b]=d(a[b]);return k.run=function(){var a=this[0];a&&a.run()},k.pushPod=function(a){var b=this;b.push(a),1===j(b)&&b.run()},k.proceed=function(){var a=this;return a.shift(),a.complete?!1:(a.run(),!0)},k.clear=function(a){a=g(a)?!0:a;for(var b=this;j(b)>(a?0:1);)b.pop().cancel()},k.getPodCount=function(a){return a=f(a),j(this.filter(function(b){return h(a,b.type)>=0}))},i}),hxManager.DomNodeFactory=hxManager.Inject([Object,jQuery,MOJO,"Config","VendorPatch","Queue","CSSProperty","ComponentMOJO","TransitionMOJO","ensureArray","isUndef","instOf","keys"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){if(!k(a.$hx))return a;var b=new c(o(z,a));return b.queue=new f,b.componentMOJO=new h,b.transitionMOJO=new i,a.$hx=b,a}function o(a,b){var c,d={};for(var e in a)c=a[e],d[e]=c.bind(b);return d}var p="beanStart",q="beanComplete",r="clusterComplete",s="podPaused",t="podResumed",u="podComplete",v="podCanceled",w=c.Each,x=d.properties,y=e.prefix,z={paint:function(a){var c=this,d=c.$hx,e={};a=k(a)?m(d.getOrder()):j(a),a.forEach(function(a){var b=y(a),c=d.getStyleString(a);e[b]=c}),b(c).css(e)},handleMOJO:function(a){var c,d,e,f=this,g=f.$hx,h=arguments;switch(a.type){case p:d=h[1],b(f).trigger("hx.start",{ref:d.ref,bean:d.seed});break;case q:d=h[1],b(f).trigger("hx.end",{ref:d.ref,bean:d.seed}),d.options.done();break;case r:c=h[1],g.deleteTransition(c),g.applyTransition();break;case s:case t:var i="hx."+(a.type===s?"pause":"resume");e=h[1],b(f).trigger(i,{progress:e.progress});break;case u:e=h[1],e.dispel(u,g),g.proceed();break;case v:e=h[1],"promise"===e.type?e.dispel(u):(e.dispel(u,g),e.once(u,function(){g.getPodCount("animation")||(g.resetTransition(),g.applyTransition())}))}},setTransition:function(a){this.$hx.transitionMOJO.setTransition(a)},deleteTransition:function(a){this.$hx.transitionMOJO.deleteTransition(a)},resetTransition:function(){var a=this.$hx.transitionMOJO;w(a,function(b,c){a.deleteTransition(c)})},applyTransition:function(){var a=this,c=y("transition"),d=a.$hx.getTransitionString();a.style.transition!==d&&b(a).css(c,d)},getComponents:function(a,b){function c(a){return b?a.values:a.clone()}function d(a){return b?x.inverse[a]||a:a}a=x[a]||a,b=k(b)?!0:b;var e=this.$hx,f=e.componentMOJO.getComponents(a),i={};return l(f,h)?f.each(function(a,c){i[c]=e.getComponents(c,b)}):l(f,g)?i=c(f):k(f)||w(f,function(a,b){b=d(b),a=c(a),"value"===b?i=a:i[b]=a}),i},getOrder:function(a){return this.$hx.componentMOJO.getOrder(a)},updateComponent:function(a){this.$hx.componentMOJO.updateComponent(a)},resetComponents:function(a){var b=this.$hx.componentMOJO;a?b.remove(a):b.each(function(a,c){b.remove(c)})},getStyleString:function(a){return this.$hx.componentMOJO.getString(a)},getTransitionString:function(){return this.$hx.transitionMOJO.getString()},addPod:function(a){var b=this.$hx,c=[p,q,r,s,t,u,v];a.when(c,b),b.queue.pushPod(a)},proceed:function(){return this.$hx.queue.proceed()},clearQueue:function(a){this.$hx.queue.clear(a)},getCurrentPod:function(){return this.$hx.queue[0]||!1},getPodCount:function(a){return this.$hx.queue.getPodCount(a)},cleanup:function(){delete this.$hx}};return n}),hxManager.TimingMOJO=hxManager.Inject([MOJO,"VendorPatch","defProp","descriptor","length"],function(a,b,c,d,e){function f(){k=!0,j(g)}function g(a){l.happen(h,a),l[i]?k&&j(g):k=!1}var h="timing",i="subscribers",j=b.RAF,k=!1,l=new a({subscribe:function(a){l.when(h,a),k||f()},unsubscribe:function(a){l.dispel(h,a)}});return c(l,i,d(function(){return e(l.handlers[h]||[])})),l}),hxManager.SubscriberMOJO=hxManager.Inject([MOJO,"TimingMOJO","NULL","defProp","descriptor","length"],function(a,b,c,d,e,f){function g(){var b=this;b.time=c,b.startTime=c,a.Construct(b),d(b,i,e(function(){return f(b.handlers[h]||[])})),b[h]=b[h].bind(b)}var h="timing",i="subscribers";return g.prototype=a.Create({timing:function(a,b){var c=this,d=b-(c.time||b);c.time=b,c.startTime||(c.startTime=b);var e=b-c.startTime;c.happen(h,[e,d]),c[i]<1&&c.destroy()},subscribe:function(){b.subscribe(this[h])},destroy:function(){b.unsubscribe(this[h])}}),g}),hxManager.Bean=hxManager.Inject([Error,jQuery,MOJO,"Config","SubscriberMOJO","keys","has","isFunc","indexOf","del"],function(a,b,c,d,e,f,g,h,i,j){function k(d,e,f){if(!d.type)throw new a("Bean type is required.");var g=this;g.running=!1,g.buffer=0,g.progress=0,c.Construct(g),b.extend(g,p(d,e,f))}function l(a){function b(a){return y[a]||a}var c=(a.order||[]).map(b),d=f(a).filter(function(a){return i(x,a)<0}).map(b);return{passed:c,computed:d}}function m(a,c,e){var f=d.defaults,h=b.extend({},f,a);return w(h,function(a,b){g(f,b)?h[b]="done"===b?a.bind(null,c,e):o(a,c,e):j(h,b)}),h}function n(a,b,c){var d={};return w(a,function(a,e){var f=y[e]||e;i(x,f)<0&&(d[f]=o(a,b,c))}),d}function o(a,b,c){return h(a)?a(b,c):a}function p(a,b,c){var d=m(a,b,c);return{ref:d.ref,seed:a,type:a.type,order:l(a),options:d,styles:n(a,b,c)}}var q=1e3/240,r="timing",s="progress",t="beanStart",u="beanPaint",v="beanComplete",w=c.Each,x=d.optionKeys,y=d.properties,z=d.buffer,A=k.Calc=function(a,b,c){return a-=c,a=0>a?0:a,a/(b?b+z:1)},B=k.CheckTol=function(a,b,c,d){return q/(c+d+z)>=b-a};return k.prototype=c.Create({run:function(a){var b=this;return b.running?!1:(b.running=!0,b.when(s,b),b.once(u,a,b),b.happen(t),!0)},handleMOJO:function(a){var b,c,d=this,e=arguments;switch(a.type){case r:d._timing.apply(d,e);break;case s:b=e[1],d.running&&b>0&&(d.dispel(s,d),d.happen(u));break;case u:c=e[1],c.setTransition(d),c.updateComponent(d)}},_timing:function(a,b,c){var d=this,e=d.options.duration,f=d.options.delay;d.running||(d.buffer+=c);var g=A(b-d.buffer,e,f);B(g,1,e,f)&&(g=1),d.happen(s,g),1===g&&d.happen(v)},getOrder:l,getOptions:m,getStyles:n}),k}),hxManager.IteratorMOJO=hxManager.Inject([MOJO,"Easing","Bean","isNum"],function(a,b,c,d){function e(c,d){var e=this,f=d.options;e.bean=d,e.node=c,e.type=d.type,e.running=!1,e.styles=d.styles,e.properties=d.order.computed,e.duration=f.duration,e.delay=f.delay,e.easing=b(f.easing),a.Construct(e)}var f=a.Each,g=c.Calc,h=c.CheckTol;return e.prototype=a.Create({calculate:function(a){var b=this;f(b.diff,function(c,e){var f=b.current[e],g=b.dest[e];c.forEach(function(b,c){var e=b*(1-a);f[c]=d(b)?g[c]-e:b===f.defaults[c]?g[c]:b})}),b.paint(b.current)},paint:function(a){var b=this,c=b.node.$hx,d=b._updateBean(a);c.updateComponent(d),c.paint(b.type)},resolve:function(a,b){var c=this;b&&c.paint(a),c.happen("beanComplete",c)},handleMOJO:function(a){var b,c=this,d=arguments;switch(a.type){case"init":c._init();break;case"timing":c._timing.apply(c,d);break;case"progress":b=d[1],!c.running&&b>=0&&(c.running=!0,c.dispel("progress",c));break;case"podCanceled":c.running||c.happen("beanCanceled")}},_init:function(){var a=this,b=a.node,c=b.$hx,d=a.current=a._getCurrent(b);a.dest=a._getDest(d,a.styles),a.diff=a._getDiff(b,d,a.dest),c.deleteTransition(a.type),c.applyTransition(),a.when("progress",a),a.happen("beanStart")},_timing:function(a,b,c,d){var e=this,f=e.duration,i=e.delay,j=g(b,f,i);h(j,1,f,i)&&(j=1),e.happen("progress",j),1===j?e.resolve(e.dest,d):d&&e.calculate(e.easing["function"](j))},_updateBean:function(a){var b=this,c=b.bean;return f(a,function(a,b){c.styles[b]=a}),c},_getCurrent:function(a){var b=this,c={},d=b.type,e=b.properties;return e.forEach(function(b){var e="value"===b?d:b;c[b]=a.$hx.getComponents(e,!1)}),c},_getDest:function(a,b){var c={};return f(a,function(a,d){var e=a.clone();e.update(b[d]),c[d]=e}),c},_getDiff:function(a,b,c){var e={};return f(b,function(a,b){e[b]=a.map(function(a,e){return d(a)?c[b][e]-a:a})}),e}}),e}),hxManager.AnimationPod=hxManager.Inject([MOJO,"SubscriberMOJO","NULL","defProps","descriptor","length"],function(a,b,c,d,e,f){function g(b){var c=this;c.type=g[h],c.node=b,c.beans={},c.forced=!1,c.paused=!1,c.buffer=0,c.attached=!0,c[s]=[],a.Construct(c),d(c,{sequence:e(function(){var a={};return t(c.beans,function(b,c){f(b)>0&&(a[c]=b[0])}),a}),subscribers:e(function(){return f(c.handlers[i]||[])}),complete:e(function(){return 0===c.subscribers})}),c._init()}var h="TYPE",i="timing",j="timingCallback",k="podComplete",l="podCanceled",m="forceResolve",n="subscribe",o="beanStart",p="beanPaint",q="beanComplete",r="clusterComplete",s="progress",t=a.Each;return g[h]="animation",g.prototype=a.Create({_init:function(){var a=this,c=new b;c.when(i,a),a.once([n,k,m,l],c,a)},addBean:function(a){var b=this,c=a.type;b._getBeans(c).push(a);var d=b.subscribers;b.when(i,a),a.when(s,d,b),a.once([o,q],b)},addCallback:function(a){var b=this;b.when(j,function(c,d,e,f){f&&a(d,b.progress)})},run:function(){var a=this;a.happen(n),a._runSequence()},detach:function(){this.attached=!1},_runSequence:function(){var a=this,b=a.node.$hx;t(a.sequence,function(a){a.run(b)&&a.once(p,function(){b.applyTransition(),b.paint(a.type)})})},_next:function(a){var b=this,c=b._getBeans(a);return c.shift(),f(c)>0},_getBeans:function(a){var b,c=this,d=c.beans;return b=a?d[a]=d[a]||[]:d},resolvePod:function(){var a=this;a.complete?a.happen(k,a):a.happen(m)},_resolveBeans:function(a){var b=this;b._getBeans(a).forEach(function(a){b.dispel(c,a)})},cancel:function(){var a=this;a.happen(l,a)},handleMOJO:function(a){var b,d,e,f,g,h=this,j=arguments;switch(a.type){case i:h._timing.apply(h,j);break;case n:b=j[1],b.subscribe();break;case k:b=j[1],b.dispel(),h.dispel();break;case l:h.dispel([r,q]),h.happen(m);break;case m:h.forced=!0,b=j[1],h.attached?(h.dispel(c,h),h.happen(k,h),h.once(k,b,h)):h.happen(k,h);break;case s:d=j[1],e=j[2],h[s][d]=e>1?1:e;break;case o:f=a.target,h.happen(o,f);break;case q:f=a.target,g=f.type,h.dispel(c,f),!h.forced&&h._next(g)?h._runSequence():h.forced||h.happen(r,g),h.forced?h._resolveBeans(g):h.happen(q,f),h.complete&&h.resolvePod()}},_timing:function(a,b,c){var d=this,e=d.attached;d.paused?d.buffer+=c:d.happen([i,j],[b-d.buffer,c,e])}}),g}),hxManager.PrecisionPod=hxManager.Inject([MOJO,"SubscriberMOJO","NULL","defProps","descriptor","length"],function(a,b,c,d,e,f){function g(){var b=this;b.type=g[h],b.forced=!1,b.paused=!1,b.buffer=0,b.attached=!0,b[u]=[],a.Construct(b),d(b,{subscribers:e(function(){return f(b.handlers[i]||[])}),complete:e(function(){return 0===b.subscribers})}),b._init()}var h="TYPE",i="timing",j="timingCallback",k="podPaused",l="podResumed",m="podComplete",n="podCanceled",o="forceResolve",p="subscribe",q="init",r="beanStart",s="beanComplete",t="beanCanceled",u="progress";return g[h]="precision",g.prototype=a.Create({_init:function(){var a=this,c=new b;c.when(i,a),a.once([p,m,o,n],c,a)},addBean:function(a){var b=this,c=b.subscribers;b.when(i,a),b.once([q,n],a),a.when(u,c,b),a.once([r,s,t],b)},addCallback:function(a){var b=this;b.when(j,function(c,d,e,f){f&&a(d,b.progress)})},run:function(){this.happen([q,p])},detach:function(){this.attached=!1},pause:function(){var a=this;a.paused=!0,a.happen(k,a)},resume:function(){var a=this;a.paused=!1,a.happen(l,a)},resolvePod:function(){var a=this;a.complete?a.happen(m,a):a.happen(o)},cancel:function(){var a=this;a.happen(n,a)},handleMOJO:function(a){var b,d,e,f,g=this,h=arguments;switch(a.type){case i:g._timing.apply(g,h);break;case p:b=h[1],b.subscribe();break;case m:b=h[1],b.dispel(),g.dispel();break;case n:g.dispel(s),g.happen(o);break;case o:g.forced=!0,b=h[1],g.paused||!g.attached?g.happen(m,g):(g.dispel(c,g),g.happen(m,g),g.once(m,b,g));break;case u:d=h[1],e=h[2],g[u][d]=e>1?1:e;break;case r:f=a.target,g.happen(r,f.bean);break;case t:f=a.target,f.dispel(),g.dispel(c,f);break;case s:f=a.target,g.dispel(c,f),g.forced||g.happen(s,f.bean),g.complete&&g.resolvePod()}},_timing:function(a,b,c){var d=this,e=d.attached;d.paused?d.buffer+=c:d.happen([i,j],[b-d.buffer,c,e])}}),g}),hxManager.PromisePod=function(a,b,c){function d(){var f=this;f.type=d[e],f.attached=!0,c.Construct(f);var g=new a(function(a,b){g.resolve=a,g.reject=b});return b.extend(g,f)}var e="TYPE";return d[e]="promise",d.prototype=c.Create({run:function(){var b=this;new a(function(a){a()}).then(function(){b.resolve()})},resolvePod:function(){var a=this;a.happen("podComplete",a)},cancel:function(){var a=this;a.happen("podCanceled",a)},detach:function(){}}),d}(WeePromise,jQuery,MOJO),hxManager.PodFactory=hxManager.Inject(["AnimationPod","PrecisionPod","PromisePod"],function(a,b,c){function d(d,f){switch(f){case a[e]:return new a(d);case b[e]:return new b;case c[e]:return new c}}var e="TYPE";return d}),hxManager.Inject([Error,jQuery,hxManager,"shift","isFunc","is"],function(a,b,c,d,e,f){b.fn.hx=function(){var b,g=arguments,h=new c(this);if(f(g[0],"string")){var i=d(g);if(!e(h[i]))throw new a(i+" is not a function.");b=h[i].apply(h,g)}else b=f(g[0],"object")?h.animate(g[0]):h;return b}}),hxManager.Inject([jQuery,MOJO,hxManager,"VendorPatch","StyleDefinition","Bezier","TimingMOJO","del","NULL"],function(a,b,c,d,e,f,g,h,i){var j=e.define,k=f.define;a.hx={defineProperty:j,defineBezier:k,subscribe:function(a){function b(b,d){c=c===i?d:c,a(d-c)}var c=i;return g.subscribe(b),function(){g.unsubscribe(b)}},error:function(a){try{console.error(a.stack)}catch(b){}}},[[["matrix","matrix3d"],[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],["a1","b1","c1","d1","a2","b2","c2","d2","a3","b3","c3","d3","a4","b4","c4","d4"],function(a,b){return a+"("+b.join(",")+")"}],[["translate","translate3d"],[0,0,0],["x","y","z"],function(a,b){return a+"("+b.join("px,")+"px)"}],[["scale","scale3d"],[1,1,1],["x","y","z"],function(a,b){return a+"("+b.join(",")+")"}],[["rotate","rotate3d"],[0,0,0,0],["x","y","z","a"],function(a,b){return a+"("+b.join(",")+"deg)"}],[["rotateX"],0,i,function(a,b){return a+"("+b[0]+"deg)"}],[["rotateY"],0,i,function(a,b){return a+"("+b[0]+"deg)"}],[["rotateZ"],0,i,function(a,b){return a+"("+b[0]+"deg)"}],[["matrix2d","matrix"],[1,0,0,1,0,0],["a1","b1","c1","d1","a4","b4"],function(a,b){return a+"("+b.join(",")+")"}],[["translate2d","translate"],[0,0],["x","y"],function(a,b){return a+"("+b.join("px,")+"px)"}],[["scale2d","scale"],[1,1],["x","y"],function(a,b){return a+"("+b.join(",")+")"}],[["opacity"],1,i,i]].forEach(function(a){var b=j.apply(i,a[0]);["defaults","keymap","stringGetter"].forEach(function(c,d){var e=a[d+1];e!==i&&b.set(c,e)})});var l={linear:[.25,.25,.75,.75],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],
easeInExpo:[.95,.05,.795,.035],easeInCirc:[.6,.04,.98,.335],easeInBack:[.6,-.28,.735,.045],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeOutBack:[.175,.885,.32,1.275],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInOutBack:[.68,-.55,.265,1.55],easeOutBackMod1:[.7,-1,.5,2],easeMod1:[.25,.2,.25,1],gravityUp:[.05,.6,.3,1],gravityDown:[.65,.01,.78,.5]};b.Each(l,function(a,b){k(b,a)});var m="__ready";c[m](),h(c,m)});