/*! jquery.hx - 1.2.0 - Bernard McManus - 56ac5db - 2016-10-27 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.hxManager=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(){var a=this,b={};f.Construct(a),g.defProp(a,"order",{value:b})}function e(a,b){return"value"===b?a:b}var f=a("mojo"),g=a("shared/helper"),h=a("domNode/styleDefinition"),i=a("domNode/cssProperty");b.exports=d,d.prototype=f.Create({getString:function(a){var b=this,c=b.getOrder(a),d=c.map(function(c){var d=e(a,c),f=b.getComponents(d);return f=g.has(f,"value")?f.value:f,$.hx.preFilter&&(f=$.hx.preFilter(f)),f.isDefault()?"":f.string}).filter(function(a){return""!==a});return d.join(" ")},getComponents:function(a){var b=this,c=b;return a&&(c=g.treeSearch(b,a)),g.isUndef(c)&&(c=h.isDefined(a)?new i(a,null):{}),c},updateComponent:function(a){var b=this,c=a.styles,d=a.type,f=b[d]=b[d]||{};g.each(c,function(a,c){var h=e(d,c);g.isUndef(f[c])?f[c]=new i(h,a):f[c].update(a),f[c].isDefault()&&(g.del(f,c),g.length(g.keys(f))<1&&g.del(b,d))}),b._updateOrder(a)},getOrder:function(a){var b=this,c=b.order;return a?c[a]||[]:c},setOrder:function(a,b){var c=this,d=c.order;b?d[a]=b:g.del(d,a)},_updateOrder:function(a){var b=this,c=a.type,d=b.getOrder(c),e=a.order.passed,f=a.order.computed,h=e.concat(d,f),i=g.keys(b.getComponents(c));h=h.filter(function(a,b){return g.indexOf(h,a)===b&&g.indexOf(i,a)>=0}),b.setOrder(c,h)}})},{"domNode/cssProperty":2,"domNode/styleDefinition":5,mojo:24,"shared/helper":21}],2:[function(_dereq_,module,exports){function CSSProperty(a,b){var c,d=this,e=StyleDefinition.retrieve(a);helper.defProps(d,{name:helper.descriptor(function(){return a}),pName:helper.descriptor(function(){return e.pName}),defaults:helper.descriptor(function(){return e.defaults}),isNull:helper.descriptor(function(){return c},function(a){c=a}),keymap:helper.descriptor(function(){return e.keymap}),string:helper.descriptor(function(){return e.toString(d)}),length:helper.descriptor(function(){return helper.length(helper.keys(d))}),values:helper.descriptor(function(){if(1===helper.length(d))return d[0];for(var a,b={},c=d.keymap,e=0;e<helper.length(c);e++)a=c[e],b[a]=d[e];return b})}),d.defaults.forEach(function(a,b){d[b]=a}),d.update(b)}function parseExpression(a){var b=/(\+|\-|\*|\/|\%)\=/,c={op:null,val:0},d=b.exec(a);return d&&(c.op=d[1],a=a.replace(b,"")),c.val=a,c.op&&(c.val=parseFloat(c.val,10)),c}var helper=_dereq_("shared/helper"),StyleDefinition=_dereq_("domNode/styleDefinition");module.exports=CSSProperty,CSSProperty.prototype=$.extend(helper.create(Array.prototype),{constructor:CSSProperty,clone:function(a){var b=this,c=a?b.defaults:b.values;return new CSSProperty(b.name,c)},update:function(values){function mergeUpdates(storedVal,newVal){var parts=parseExpression(newVal);return parts.op?eval(storedVal+parts.op+parts.val):parts.val}values=helper.instOf(values,CSSProperty)&&values.isNull?null:values;var that=this,keymap=that.keymap,key,i;for(that.isNull=null===values,values=values||0===values?values:that.defaults,helper.isObj(values)||(values=[values]),i=0;i<helper.length(keymap);i++)key=helper.isArr(values)?i:keymap[i],helper.isUndef(values[key])||(that[i]=mergeUpdates(that[i],values[key]))},isDefault:function(){var a=this;return a.isNull&&helper.compareArray(a,a.defaults)}})},{"domNode/styleDefinition":5,"shared/helper":21}],3:[function(a,b,c){function d(a){if(!g.isUndef(a.$hx))return a;var b=new f(e(u,a));return b.queue=new h,b.componentMOJO=new i,b.transitionMOJO=new j,a.$hx=b,a}function e(a,b){var c,d={};for(var e in a)c=a[e],d[e]=c.bind(b);return d}var f=a("mojo"),g=a("shared/helper"),h=a("domNode/queue"),i=a("domNode/componentMOJO"),j=a("domNode/transitionMOJO"),k=a("domNode/cssProperty"),l=a("shared/config").properties,m=a("shared/vendorPatch").prefix,n="beanStart",o="beanComplete",p="clusterComplete",q="podPaused",r="podResumed",s="podComplete",t="podCanceled";b.exports=d;var u={paint:function(a){var b=this,c=b.$hx,d={};a=g.isUndef(a)?g.keys(c.getOrder()):g.ensureArray(a),a.forEach(function(a){var b=m(a),e=c.getStyleString(a);d[b]=e}),$(b).css(d)},handleMOJO:function(a){var b,c,d,e=this,f=e.$hx,g=arguments;switch(a.type){case n:c=g[1],$(e).trigger("hx.start",{ref:c.ref,bean:c.seed});break;case o:c=g[1],$(e).trigger("hx.end",{ref:c.ref,bean:c.seed}),c.options.done();break;case p:b=g[1],f.deleteTransition(b),f.applyTransition();break;case q:case r:var h="hx."+(a.type===q?"pause":"resume");d=g[1],$(e).trigger(h,{progress:d.progress});break;case s:d=g[1],d.dispel(s,f),f.proceed();break;case t:d=g[1],"promise"===d.type?d.dispel(s):(d.dispel(s,f),d.once(s,function(){f.getPodCount("animation")||(f.resetTransition(),f.applyTransition())}))}},setTransition:function(a){this.$hx.transitionMOJO.setTransition(a)},deleteTransition:function(a){this.$hx.transitionMOJO.deleteTransition(a)},resetTransition:function(){var a=this.$hx.transitionMOJO;g.each(a,function(b,c){a.deleteTransition(c)})},applyTransition:function(){var a=this,b=m("transition"),c=a.$hx.getTransitionString();a.style.transition!==c&&$(a).css(b,c)},getComponents:function(a,b){function c(a){return b?a.values:a.clone()}function d(a){return b?l.inverse[a]||a:a}a=l[a]||a,b=!!g.isUndef(b)||b;var e=this.$hx,f=e.componentMOJO.getComponents(a),h={};return g.instOf(f,i)?f.each(function(a,c){h[c]=e.getComponents(c,b)}):g.instOf(f,k)?h=c(f):g.isUndef(f)||g.each(f,function(a,b){b=d(b),a=c(a),"value"===b?h=a:h[b]=a}),h},getOrder:function(a){return this.$hx.componentMOJO.getOrder(a)},updateComponent:function(a){this.$hx.componentMOJO.updateComponent(a)},resetComponents:function(a){var b=this.$hx.componentMOJO;a?b.remove(a):b.each(function(a,c){b.remove(c)})},getStyleString:function(a){return this.$hx.componentMOJO.getString(a)},getTransitionString:function(){return this.$hx.transitionMOJO.getString()},addPod:function(a){var b=this.$hx,c=[n,o,p,q,r,s,t];a.when(c,b),b.queue.pushPod(a)},proceed:function(){return this.$hx.queue.proceed()},clearQueue:function(a){this.$hx.queue.clear(a)},getCurrentPod:function(){return this.$hx.queue[0]||!1},getPodCount:function(a){return this.$hx.queue.getPodCount(a)},cleanup:function(){delete this.$hx}}},{"domNode/componentMOJO":1,"domNode/cssProperty":2,"domNode/queue":4,"domNode/transitionMOJO":6,mojo:24,"shared/config":19,"shared/helper":21,"shared/vendorPatch":22}],4:[function(a,b,c){function d(){var a=this;Array.call(a),f.defProps(a,{complete:f.descriptor(function(){return!e(a)})})}function e(a){return a.length}var f=a("shared/helper");b.exports=d,d.prototype=$.extend(f.create(Array.prototype),{constructor:d,run:function(){var a=this[0];a&&a.run()},pushPod:function(a){var b=this;b.push(a),1===e(b)&&b.run()},proceed:function(){var a=this;return a.shift(),!a.complete&&(a.run(),!0)},clear:function(a){a=!!f.isUndef(a)||a;for(var b=this;e(b)>(a?0:1);)b.pop().cancel()},getPodCount:function(a){return a=f.ensureArray(a),e(this.filter(function(b){return f.indexOf(a,b.type)>=0}))}})},{"shared/helper":21}],5:[function(a,b,c){function d(){var a=this,b=arguments,c=g.other;a.name=e.shift(b),a.pName=b[0]||a.name,a.defaults=c.defaults,a.keymap=c.keymap,a.stringGetter=function(a,b){return b[0]}}var e=a("shared/helper"),f=a("shared/config").properties;b.exports=d,d.define=function(){var a=arguments,b=e.pop(a),c=a[0]||b;if(g[b])throw new Error(b+" is already defined");return b!==c&&(f[c]=b),g[b]=new d(b,c),g[b]},d.isDefined=function(a){return!e.isUndef(g[a])},d.retrieve=function(a){return g[a]||new d(a)},d.prototype={constructor:d,set:function(a,b){var c=this;return"defaults"!==a&&"keymap"!==a||(b=e.ensureArray(b)),c[a]=b,c},toString:function(a){return this.stringGetter(a.name,a)}};var g={other:{defaults:[""],keymap:[0]}}},{"shared/config":19,"shared/helper":21}],6:[function(a,b,c){function d(){g.Construct(this)}function e(a){var b=a.options;return{duration:b.duration,easing:j(b.easing).string}}function f(a,b,c,d){return a+" "+b+"ms "+c+" "+d+"ms"}var g=a("mojo"),h=a("shared/helper"),i=a("shared/vendorPatch"),j=a("shared/easing");b.exports=d,d.prototype=g.Create({constructor:d,getString:function(){var a=this,b=[];return h.each(a,function(a,c){var d=a.duration,e=a.easing,g=f(c,d,e,0);b.push(g)}),i.prefix(b.join(", "))},setTransition:function(a){this.set(a.type,e(a))},deleteTransition:function(a){this.remove(a)}})},{mojo:24,"shared/easing":20,"shared/helper":21,"shared/vendorPatch":22}],7:[function(a,b,c){var d=a("hxManager"),e=a("shared/helper");b.exports=function(){var a,b=arguments,c=new d(this);if(e.is(b[0],"string")){var f=e.shift(b);if(!e.isFunc(c[f]))throw new Error(f+" is not a function.");a=c[f].apply(c,b)}else a=e.is(b[0],"object")?c.animate(b[0]):c;return a}},{hxManager:8,"shared/helper":21}],8:[function(a,b,c){function d(a){var b=this;return g.instOf(a,d)?a:(a.each(function(c){b[c]=h(a[c])}),g.defProp(b,"length",g.descriptor(function(){return g.length(a)})),b)}function e(a,b){return a.toArray().forEach(function(a,c){b(a.$hx,a,c)}),a}var f=a("wee-promise"),g=a("shared/helper"),h=a("domNode/domNodeFactory"),i=a("pod/podFactory"),j=a("pod/bean"),k=a("pod/iteratorMOJO");b.exports=d,d.prototype=$.extend(g.create($.prototype),{animate:function(a){var b=this;return e(b,function(c,d,e){var f=i(d,"animation");g.ensureArray(a).forEach(function(a){if(g.isFunc(a))f.addCallback(a.bind(b));else{var c=new j(a,d,e);f.addBean(c)}}),c.addPod(f)})},iterate:function(a){var b=this;return e(b,function(c,d,e){var f=i(d,"precision");g.ensureArray(a).forEach(function(a){if(g.isFunc(a))f.addCallback(a.bind(b));else{var c=new j(a,d,e),h=new k(d,c);f.addBean(h)}}),c.addPod(f)})},promise:function(a,b){b=b||"all";var c=this,d=c.toArray().map(function(a){var b=a.$hx,c=i(a,"promise");return b.addPod(c),c});return f[b](d).then(function(){new f(a.bind(c)).then(function(){d.forEach(function(a){a.resolvePod()})}).catch(function(a){c.clear().trigger("hx.reject",arguments),g.instOf(a,Error)&&($.hx.error(a),$(document).trigger("hx.error",a))})}),c},pause:function(){return this._precAction("pause")},resume:function(){return this._precAction("resume")},_precAction:function(a,b){b=b||0;var c=this,d=c.toArray().map(function(a){return a.$hx.getCurrentPod()}).filter(function(a){return"precision"===a.type});if(g.length(d)!==g.length(c)&&b<10)var e=$.hx.subscribe(function(){b++,e(),c._precAction(a,b)});else d.forEach(function(b){b[a]()});return c},paint:function(a){return e(this,function(b){b.paint(a)})},reset:function(a){return e(this,function(b){b.resetComponents(a)})},then:function(a){return this.promise(a)},race:function(a){return this.promise(a,"race")},defer:function(a){return this.promise(function(b){if(a)var c=$.hx.subscribe(function(d){d>=a&&(c(),b())})})},update:function(a){var b=this;return g.ensureArray(a).forEach(function(a){e(b,function(b,c,d){var e=new j(a,c,d);b.updateComponent(e)})}),b},resolve:function(a){return a=!g.isUndef(a)&&a,e(this,function(b){var c=b.getCurrentPod();c&&(a||!a&&"promise"===c.type)&&c.resolvePod()})},detach:function(){return e(this,function(a){var b=a.getCurrentPod();b&&b.detach()})},clear:function(){return e(this,function(a){a.clearQueue()})},break:function(){var a=this;return e(a,function(a){a.clearQueue(!1)}),a.resolve()},zero:function(a){var b=this;return b.update(a),e(b,function(a){a.resetTransition(),a.applyTransition()}),b.paint()},done:function(a){var b=this;b.promise(function(c){(a||function(){}).call(b),c()})},get:function(a,b){return this.toArray().map(function(c){return c.$hx.getComponents(a,b)})},cleanup:function(){e(this,function(a){a.cleanup()})}})},{"domNode/domNodeFactory":3,"pod/bean":11,"pod/iteratorMOJO":12,"pod/podFactory":13,"shared/helper":21,"wee-promise":25}],9:[function(a,b,c){var d=a("shared/helper"),e=a("shared/vendorPatch"),f=a("domNode/styleDefinition"),g=a("shared/bezier"),h=a("shared/easing"),i=a("pod/timingMOJO"),j=a("hxManager"),k=a("fn.hx");b.exports=j,window.hxManager=j,j.Easing=h,j.VendorPatch=e,j.StyleDefinition=f,$.fn.hx=k,$.hx={defineProperty:f.define,defineBezier:g.define,subscribe:function(a){function b(b,d){c=null===c?d:c,a(d-c)}var c=null;return i.subscribe(b),function(){i.unsubscribe(b)}},error:function(a){try{console.error(a.stack)}catch(a){}}},[[["matrix","matrix3d"],[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],["a1","b1","c1","d1","a2","b2","c2","d2","a3","b3","c3","d3","a4","b4","c4","d4"],function(a,b){return a+"("+b.join(",")+")"}],[["translate","translate3d"],[0,0,0],["x","y","z"],function(a,b){return a+"("+b.join("px,")+"px)"}],[["scale","scale3d"],[1,1,1],["x","y","z"],function(a,b){return a+"("+b.join(",")+")"}],[["rotate","rotate3d"],[0,0,0,0],["x","y","z","a"],function(a,b){return a+"("+b.join(",")+"deg)"}],[["rotateX"],0,null,function(a,b){return a+"("+b[0]+"deg)"}],[["rotateY"],0,null,function(a,b){return a+"("+b[0]+"deg)"}],[["rotateZ"],0,null,function(a,b){return a+"("+b[0]+"deg)"}],[["matrix2d","matrix"],[1,0,0,1,0,0],["a1","b1","c1","d1","a4","b4"],function(a,b){return a+"("+b.join(",")+")"}],[["translate2d","translate"],[0,0],["x","y"],function(a,b){return a+"("+b.join("px,")+"px)"}],[["scale2d","scale"],[1,1],["x","y"],function(a,b){return a+"("+b.join(",")+")"}],[["opacity"],1,null,null]].forEach(function(a){var b=f.define.apply(null,a[0]);["defaults","keymap","stringGetter"].forEach(function(c,d){var e=a[d+1];null!==e&&b.set(c,e)})});var l={linear:[.25,.25,.75,.75],ease:[.25,.1,.25,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1],easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],easeInExpo:[.95,.05,.795,.035],easeInCirc:[.6,.04,.98,.335],easeInBack:[.6,-.28,.735,.045],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeOutBack:[.175,.885,.32,1.275],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInOutBack:[.68,-.55,.265,1.55],easeOutBackMod1:[.7,-1,.5,2],easeMod1:[.25,.2,.25,1],gravityUp:[.05,.6,.3,1],gravityDown:[.65,.01,.78,.5]};d.each(l,function(a,b){g.define(b,a)}),$(document).trigger("hx.ready")},{"domNode/styleDefinition":5,"fn.hx":7,hxManager:8,"pod/timingMOJO":17,"shared/bezier":18,"shared/easing":20,"shared/helper":21,"shared/vendorPatch":22}],10:[function(a,b,c){function d(a){var b=this;b.type=d.type,b.node=a,b.beans={},b.forced=!1,b.paused=!1,b.buffer=0,b.attached=!0,b[r]=[],e.Construct(b),f.defProps(b,{sequence:f.descriptor(function(){var a={};return f.each(b.beans,function(b,c){f.length(b)>0&&(a[c]=b[0])}),a}),subscribers:f.descriptor(function(){return f.length(b.handlers[h]||[])}),complete:f.descriptor(function(){return 0===b.subscribers})}),b._init()}var e=a("mojo"),f=a("shared/helper"),g=a("pod/subscriberMOJO"),h="timing",i="timingCallback",j="podComplete",k="podCanceled",l="forceResolve",m="subscribe",n="beanStart",o="beanPaint",p="beanComplete",q="clusterComplete",r="progress";b.exports=d,d.type="animation",d.prototype=e.Create({constructor:d,_init:function(){var a=this,b=new g;b.when(h,a),a.once([m,j,l,k],b,a)},addBean:function(a){var b=this,c=a.type;b._getBeans(c).push(a);var d=b.subscribers;b.when(h,a),a.when(r,d,b),a.once([n,p],b)},addCallback:function(a){var b=this;b.when(i,function(c,d,e,f){f&&a(d,b.progress)})},run:function(){var a=this;a.happen(m),a._runSequence()},detach:function(){this.attached=!1},_runSequence:function(){var a=this,b=a.node.$hx;f.each(a.sequence,function(a,c){a.run(b)&&a.once(o,function(c){b.applyTransition(),b.paint(a.type)})})},_next:function(a){var b=this,c=b._getBeans(a);return c.shift(),f.length(c)>0},_getBeans:function(a){var b,c=this,d=c.beans;return b=a?d[a]=d[a]||[]:d},resolvePod:function(){var a=this;a.complete?a.happen(j,a):a.happen(l)},_resolveBeans:function(a){var b=this;b._getBeans(a).forEach(function(a){b.dispel(null,a)})},cancel:function(){var a=this;a.happen(k,a)},handleMOJO:function(a){var b,c,d,e,f,g=this,i=arguments;switch(a.type){case h:g._timing.apply(g,i);break;case m:b=i[1],b.subscribe();break;case j:b=i[1],b.dispel(),g.dispel();break;case k:g.dispel([q,p]),g.happen(l);break;case l:g.forced=!0,b=i[1],g.attached?(g.dispel(null,g),g.happen(j,g),g.once(j,b,g)):g.happen(j,g);break;case r:c=i[1],d=i[2],g[r][c]=d>1?1:d;break;case n:e=a.target,g.happen(n,e);break;case p:e=a.target,f=e.type,g.dispel(null,e),!g.forced&&g._next(f)?g._runSequence():g.forced||g.happen(q,f),g.forced?g._resolveBeans(f):g.happen(p,e),g.complete&&g.resolvePod()}},_timing:function(a,b,c){var d=this,e=d.attached;d.paused?d.buffer+=c:d.happen([h,i],[b-d.buffer,c,e])}})},{mojo:24,"pod/subscriberMOJO":16,"shared/helper":21}],11:[function(a,b,c){function d(a,b,c){if(!a.type)throw new Error("Bean type is required.");var d=this;d.running=!1,d.buffer=0,d.progress=0,j.Construct(d),$.extend(d,i(a,b,c))}function e(a){function b(a){return t[a]||a}var c=(a.order||[]).map(b),d=k.keys(a).filter(function(a,b){return k.indexOf(s,a)<0}).map(b);return{passed:c,computed:d}}function f(a,b,c){var d=l.defaults,e=$.extend({},d,a);return k.each(e,function(a,f){k.has(d,f)?"done"===f?e[f]=a.bind(null,b,c):e[f]=h(a,b,c):k.del(e,f)}),e}function g(a,b,c){var d={};return k.each(a,function(a,e){var f=t[e]||e;k.indexOf(s,f)<0&&(d[f]=h(a,b,c))}),d}function h(a,b,c){return k.isFunc(a)?a(b,c):a}function i(a,b,c){var d=f(a,b,c);return{ref:d.ref,seed:a,type:a.type,order:e(a),options:d,styles:g(a,b,c)}}var j=a("mojo"),k=a("shared/helper"),l=a("shared/config"),m=1e3/240,n="timing",o="progress",p="beanStart",q="beanPaint",r="beanComplete",s=l.optionKeys,t=l.properties,u=l.buffer;b.exports=d;var v=d.Calc=function(a,b,c){return a-=c,a=a<0?0:a,a/(b?b+u:1)},w=d.CheckTol=function(a,b,c,d){return b-a<=m/(c+d+u)};d.prototype=j.Create({constructor:d,run:function(a){var b=this;return!b.running&&(b.running=!0,b.when(o,b),b.once(q,a,b),b.happen(p),!0)},handleMOJO:function(a){var b,c,d=this,e=arguments;switch(a.type){case n:d._timing.apply(d,e);break;case o:b=e[1],d.running&&b>0&&(d.dispel(o,d),d.happen(q));break;case q:c=e[1],c.setTransition(d),c.updateComponent(d)}},_timing:function(a,b,c){var d=this,e=d.options.duration,f=d.options.delay;d.running||(d.buffer+=c);var g=v(b-d.buffer,e,f);w(g,1,e,f)&&(g=1),d.happen(o,g),1===g&&d.happen(r)},getOrder:e,getOptions:f,getStyles:g})},{mojo:24,"shared/config":19,"shared/helper":21}],12:[function(a,b,c){function d(a,b){var c=this,d=b.options;c.bean=b,c.node=a,c.type=b.type,c.running=!1,c.styles=b.styles,c.properties=b.order.computed,c.duration=d.duration,c.delay=d.delay,c.easing=g(d.easing),e.Construct(c)}var e=a("mojo"),f=a("shared/helper"),g=a("shared/easing"),h=a("pod/bean");b.exports=d,d.prototype=e.Create({constructor:d,calculate:function(a){var b=this;f.each(b.diff,function(c,d){var e=b.current[d],g=b.dest[d];c.forEach(function(b,c){var d=b*(1-a);f.isNum(b)?e[c]=g[c]-d:e[c]=b===e.defaults[c]?g[c]:b})}),b.paint(b.current)},paint:function(a){var b=this,c=b.node.$hx,d=b._updateBean(a);c.updateComponent(d),c.paint(b.type)},resolve:function(a,b){var c=this;b&&c.paint(a),c.happen("beanComplete",c)},handleMOJO:function(a){var b,c=this,d=arguments;switch(a.type){case"init":c._init();break;case"timing":c._timing.apply(c,d);break;case"progress":b=d[1],!c.running&&b>=0&&(c.running=!0,c.dispel("progress",c));break;case"podCanceled":c.running||c.happen("beanCanceled")}},_init:function(){var a=this,b=a.node,c=b.$hx,d=a.current=a._getCurrent(b);a.dest=a._getDest(d,a.styles),a.diff=a._getDiff(b,d,a.dest),c.deleteTransition(a.type),c.applyTransition(),a.when("progress",a),a.happen("beanStart")},_timing:function(a,b,c,d){var e=this,f=e.duration,g=e.delay,i=h.Calc(b,f,g);h.CheckTol(i,1,f,g)&&(i=1),e.happen("progress",i),1===i?e.resolve(e.dest,d):d&&e.calculate(e.easing.function(i))},_updateBean:function(a){var b=this,c=b.bean;return f.each(a,function(a,b){c.styles[b]=a}),c},_getCurrent:function(a){var b=this,c={},d=b.type,e=b.properties;return e.forEach(function(b){var e="value"===b?d:b;c[b]=a.$hx.getComponents(e,!1)}),c},_getDest:function(a,b){var c={};return f.each(a,function(a,d){var e=a.clone();e.update(b[d]),c[d]=e}),c},_getDiff:function(a,b,c){var d={};return f.each(b,function(a,b){d[b]=a.map(function(a,d){return f.isNum(a)?c[b][d]-a:a})}),d}})},{mojo:24,"pod/bean":11,"shared/easing":20,"shared/helper":21}],13:[function(a,b,c){var d=a("pod/animationPod"),e=a("pod/precisionPod"),f=a("pod/promisePod");b.exports=function(a,b){switch(b){case d.type:return new d(a);case e.type:return new e;case f.type:return new f}}},{"pod/animationPod":10,"pod/precisionPod":14,"pod/promisePod":15}],14:[function(a,b,c){function d(){var a=this;a.type=d.type,a.forced=!1,a.paused=!1,a.buffer=0,a.attached=!0,a[t]=[],e.Construct(a),f.defProps(a,{subscribers:f.descriptor(function(){return f.length(a.handlers[h]||[])}),complete:f.descriptor(function(){return 0===a.subscribers})}),a._init()}var e=a("mojo"),f=a("shared/helper"),g=a("pod/subscriberMOJO"),h="timing",i="timingCallback",j="podPaused",k="podResumed",l="podComplete",m="podCanceled",n="forceResolve",o="subscribe",p="init",q="beanStart",r="beanComplete",s="beanCanceled",t="progress";b.exports=d,d.type="precision",d.prototype=e.Create({constructor:d,_init:function(){var a=this,b=new g;b.when(h,a),a.once([o,l,n,m],b,a)},addBean:function(a){var b=this,c=b.subscribers;b.when(h,a),b.once([p,m],a),a.when(t,c,b),a.once([q,r,s],b)},addCallback:function(a){var b=this;b.when(i,function(c,d,e,f){f&&a(d,b.progress)})},run:function(){this.happen([p,o])},detach:function(){this.attached=!1},pause:function(){var a=this;a.paused=!0,a.happen(j,a)},resume:function(){var a=this;a.paused=!1,a.happen(k,a)},resolvePod:function(){var a=this;a.complete?a.happen(l,a):a.happen(n)},cancel:function(){var a=this;a.happen(m,a)},handleMOJO:function(a){var b,c,d,e,f=this,g=arguments;switch(a.type){case h:f._timing.apply(f,g);break;case o:b=g[1],b.subscribe();break;case l:b=g[1],b.dispel(),f.dispel();break;case m:f.dispel(r),f.happen(n);break;case n:f.forced=!0,b=g[1],f.paused||!f.attached?f.happen(l,f):(f.dispel(null,f),f.happen(l,f),f.once(l,b,f));break;case t:c=g[1],d=g[2],f[t][c]=d>1?1:d;break;case q:e=a.target,f.happen(q,e.bean);break;case s:e=a.target,e.dispel(),f.dispel(null,e);break;case r:e=a.target,f.dispel(null,e),f.forced||f.happen(r,e.bean),f.complete&&f.resolvePod()}},_timing:function(a,b,c){var d=this,e=d.attached;d.paused?d.buffer+=c:d.happen([h,i],[b-d.buffer,c,e])}})},{mojo:24,"pod/subscriberMOJO":16,"shared/helper":21}],15:[function(a,b,c){function d(){var a=this;a.type=d.type,a.attached=!0,f.call(a),e.Construct(a)}var e=a("mojo"),f=a("wee-promise"),g=a("shared/helper");b.exports=d,d.type="promise",d.prototype=e.Create($.extend({},g.create(f.prototype),{constructor:d,run:function(){this.resolve()},resolvePod:function(){var a=this;a.happen("podComplete",a)},cancel:function(){var a=this;a.happen("podCanceled",a)},detach:function(){}}))},{mojo:24,"shared/helper":21,"wee-promise":25}],16:[function(a,b,c){function d(){var a=this;a.time=null,a.startTime=null,e.Construct(a),f.defProp(a,"subscribers",f.descriptor(function(){return f.length(a.handlers[h]||[])})),a[h]=a[h].bind(a)}var e=a("mojo"),f=a("shared/helper"),g=a("pod/timingMOJO"),h="timing";b.exports=d,d.prototype=e.Create({constructor:d,timing:function(a,b){var c=this,d=b-(c.time||b);c.time=b,c.startTime||(c.startTime=b);var e=b-c.startTime;c.happen(h,[e,d]),c.subscribers<1&&c.destroy()},subscribe:function(){g.subscribe(this[h])},destroy:function(){g.unsubscribe(this[h])}})},{mojo:24,"pod/timingMOJO":17,"shared/helper":21}],17:[function(a,b,c){function d(){j=!0,h.RAF(e)}function e(a){k.happen(i,a),k.subscribers?j&&h.RAF(e):j=!1}var f=a("mojo"),g=a("shared/helper"),h=a("shared/vendorPatch"),i="timing",j=!1,k=new f({subscribe:function(a){k.when(i,a),j||d()},unsubscribe:function(a){k.dispel(i,a)}});g.defProp(k,"subscribers",g.descriptor(function(){return g.length(k.handlers[i]||[])})),b.exports=k},{mojo:24,"shared/helper":21,"shared/vendorPatch":22}],18:[function(a,b,c){function d(a,b){var c=this,d=new f(b);Array.call(c),b.forEach(function(a){c.push(i?a:e(a))}),h.defProps(c,{name:{value:a},string:h.descriptor(function(){return"cubic-bezier("+c.join(",")+")"}),function:{value:d.get}})}function e(a){return a<0?0:a>1?1:a}var f=a("bezier-easing"),g=a("shared/vendorPatch"),h=a("shared/helper"),i=g.unclamped();b.exports=d,d.define=function(a,b){if(!h.isUndef(j[a]))throw new Error(a+" is already defined");return j[a]=new d(a,b),j[a]},d.retrieve=function(a){return j[a]||j[j.default]},d.prototype=h.create(Array.prototype),d.prototype.constructor=d;var j={default:"ease"}},{"bezier-easing":23,"shared/helper":21,"shared/vendorPatch":22}],19:[function(a,b,c){var d=a("shared/helper");b.exports.buffer=1e3/60*2,b.exports.optionKeys=["ref","type","duration","easing","delay","done","order"],b.exports.properties=function(){var a={};return d.defProps(a,{inverse:d.descriptor(function(){var a={};return d.each(this,function(b,c){a[b]=c}),a})}),a}(),b.exports.defaults={ref:null,duration:400,easing:"ease",delay:0,done:function(){}}},{"shared/helper":21}],20:[function(a,b,c){var d=a("shared/helper"),e=a("shared/bezier");b.exports=function(a){var b;return d.is(a,"string")?b=e.retrieve(a):d.is(a,"object")&&(b=new e(null,a)),b}},{"shared/bezier":18,"shared/helper":21}],21:[function(a,b,c){function d(a){return Object.keys(a)}function e(a,b){if(h(a))for(var c=0;c<g(a);c++)b(a[c],c);else j(a,"object")?e(d(a),function(c){b(a[c],c)}):a&&b(a,0);return a}function f(a,b){if(!a||!b)return!1;if(g(a)!=g(b))return!1;for(var c=0,d=g(a);c<d;c++)if(h(a[c])&&h(b[c])){if(!f(a[c],b[c]))return!1}else if(a[c]!==b[c])return!1;return!0}function g(a){return a.length}function h(a){return i(a,Array)}function i(a,b){return a instanceof b}function j(a,b){return typeof a===b}function k(a,b){for(var c in a){if(c===b)return a[c];if(b in a[c])return k(a[c],b)}}var c=b.exports;c.keys=d,c.each=e,c.compareArray=f,c.length=g,c.isArr=h,c.instOf=i,c.is=j,c.treeSearch=k,c.ensureArray=function(a){return h(a)?a:[a]},c.shift=function(a){return Array.prototype.shift.call(a)},c.pop=function(a){return Array.prototype.pop.call(a)},c.descriptor=function(a,b){return{get:a,set:b}},c.indexOf=function(a,b){return a.indexOf(b)},c.create=function(a){return Object.create(a)},c.defProp=function(a,b,c){Object.defineProperty(a,b,c)},c.defProps=function(a,b){Object.defineProperties(a,b)},c.has=function(a,b){return a.hasOwnProperty(b)},c.del=function(a,b){delete a[b]},c.isFunc=function(a){return i(a,Function)},c.isObj=function(a,b){return b?i(a,Object):j(a,"object")},c.isNum=function(a){return!isNaN(1*a)},c.isNull=function(a){return null===a},c.isUndef=function(a){return j(a,"undefined")},c.test=function(a,b){return a.test(b)}},{}],22:[function(a,b,c){function d(a){for(var b in a)if(f.test(a[b],h))return b;return g}function e(a){return"android"===a&&!f.test(/(chrome|firefox)/i,h)}var f=a("shared/helper"),g="other",h=navigator.userAgent,i={webkit:/webkit/i,moz:/firefox/i,o:/opera/i,ms:/msie/i},j={android:/android/i,ios:/(ipad|iphone|ipod)/i,macos:/mac os/i,windows:/windows/i},k=[/(?:-[^-]+-)?((?:transform))/g,/(?:-[^-]+-)?((?:transition))/g,{regx:/(?:-[^-]+-)?((?:filter))/g,omit:["ms"]}],l=d(i),m=d(j);b.exports.unclamped=function(){return e(m)===!1},b.exports.prefix=function(a){return l===g?a:(k.forEach(function(b){var c,d=[];f.instOf(b,RegExp)?c=b:(c=b.regx,d=b.omit||d),f.indexOf(d,l)<0&&(a=a.replace(c,"-"+l+"-$1"))}),a)},b.exports.RAF=function(){var a="equestAnimationFrame",b=window["r"+a]||window["webkitR"+a]||window["mozR"+a]||window["oR"+a]||window["msR"+a]||function(){var a=Date.now();return function(b){var c=setTimeout(function(){b(Date.now()-a),clearTimeout(c)},1e3/60)}}();return function(a){return b(a)}}()},{"shared/helper":21}],23:[function(a,b,c){function d(a,b){return 1-3*b+3*a}function e(a,b){return 3*b-6*a}function f(a){return 3*a}function g(a,b,c){return((d(b,c)*a+e(b,c))*a+f(b))*a}function h(a,b,c){return 3*d(b,c)*a*a+2*e(b,c)*a+f(b)}function i(a,b,c,d,e){var f,h,i=0;do h=b+(c-b)/2,f=g(h,d,e)-a,f>0?c=h:b=h;while(Math.abs(f)>n&&++i<o);return h}function j(a,b,c,d){for(var e=0;e<l;++e){var f=h(b,c,d);if(0===f)return b;var i=g(b,c,d)-a;b-=i/f}return b}function k(a,b,c,d){if(4===arguments.length)return new k([a,b,c,d]);if(!(this instanceof k))return new k(a);if(!a||4!==a.length)throw new Error("BezierEasing: points must contains 4 values");for(var e=0;e<4;++e)if("number"!=typeof a[e]||isNaN(a[e])||!isFinite(a[e]))throw new Error("BezierEasing: points should be integers.");if(a[0]<0||a[0]>1||a[2]<0||a[2]>1)throw new Error("BezierEasing x values must be in [0, 1] range.");this._str="BezierEasing("+a+")",this._css="cubic-bezier("+a+")",this._p=a,this._mSampleValues=r?new Float32Array(p):new Array(p),this._precomputed=!1,this.get=this.get.bind(this)}var l=4,m=.001,n=1e-7,o=10,p=11,q=1/(p-1),r="function"==typeof Float32Array;k.prototype={get:function(a){var b=this._p[0],c=this._p[1],d=this._p[2],e=this._p[3];return this._precomputed||this._precompute(),b===c&&d===e?a:0===a?0:1===a?1:g(this._getTForX(a),c,e)},getPoints:function(){return this._p},toString:function(){return this._str},toCSS:function(){return this._css},_precompute:function(){var a=this._p[0],b=this._p[1],c=this._p[2],d=this._p[3];this._precomputed=!0,a===b&&c===d||this._calcSampleValues()},_calcSampleValues:function(){for(var a=this._p[0],b=this._p[2],c=0;c<p;++c)this._mSampleValues[c]=g(c*q,a,b)},_getTForX:function(a){for(var b=this._p[0],c=this._p[2],d=this._mSampleValues,e=0,f=1,g=p-1;f!==g&&d[f]<=a;++f)e+=q;--f;var k=(a-d[f])/(d[f+1]-d[f]),l=e+k*q,n=h(l,b,c);return n>=m?j(a,l,b,c):0===n?l:i(a,e,e+q,b,c)}},k.css={ease:k.ease=k(.25,.1,.25,1),linear:k.linear=k(0,0,1,1),"ease-in":k.easeIn=k(.42,0,1,1),"ease-out":k.easeOut=k(0,0,.58,1),"ease-in-out":k.easeInOut=k(.42,0,.58,1)},b.exports=k},{}],24:[function(a,b,c){var d={},e={};d.Shared=function(a,b){function c(a){return a.length}function d(b){return a.keys(b)}function e(a){return b.prototype.shift.call(a)}function f(a){return a instanceof b?a:a!==i?[a]:[]}function g(a,b){return{get:a,set:b,configurable:!0}}function h(a){return(a||{})[j]?a[j]:a}var i,j="handleMOJO";return{length:c,keys:d,shift:e,ensureArray:f,descriptor:g,getHandlerFunc:h}}(Object,Array),d.EventHandler=function(a){function b(a,b,c){var e=this;e.handler=a,e.context=b,e.active=!0,e.callback=function(){},e.args=d(c)}var c=a.Shared,d=c.ensureArray;return b.prototype={invoke:function(a,b){var c=this,e=c.handler;if(c.active&&!a.isBreak&&!a.shouldSkip(e)){var f=c.args.concat(d(b));f.unshift(a),e.apply(c.context,f),c.callback(a,e)}}},b}(d),d.Event=function(a,b){function c(b,c){var d=this;d.isBreak=e,d.cancelBubble=e,d.defaultPrevented=e,d.skipHandlers=[],d.target=b,d.type=c,d.timeStamp=a.now()}var d=!0,e=!1,f=b.Shared,g=f.ensureArray,h=f.getHandlerFunc;return c.prototype={skip:function(a){var b=this.skipHandlers;g(a).forEach(function(a){b.push(h(a))})},shouldSkip:function(a){return this.skipHandlers.indexOf(a)>=0},break:function(){this.isBreak=d},preventDefault:function(){this.defaultPrevented=d},stopPropagation:function(){this.cancelBubble=d}},c}(Date,d),d.When=function(a,b,c){function d(a,b){return l(a).map(function(a){return a.handler}).indexOf(b)}function e(a,c){(a instanceof b?a:a.split(" ")).forEach(c);
}function f(a,b){return a===b?null:a}var g=c.Shared,h=c.EventHandler,i=c.Event,j=g.keys,k=g.shift,l=g.ensureArray,m=g.length,n=g.getHandlerFunc,o={once:function(){var a=this,b=a._when(arguments);return b.forEach(function(a){a.callback=function(){this.active=!1}}),a},when:function(){var a=this;return a._when(arguments),a},_when:function(a){var b=this,c=k(a),d=m(a)>1?k(a):d,g=[],i=k(a),j=n(i),l=f(i,j);return e(c,function(a,c){g.push(new h(j,l,d)),b._addHandler(a,g[c])}),g},happen:function(a,b){var c=this;return a=c._ensureEType(a),e(a,function(a){var d=c._getHandlers(a,!0),e=new i(c,a);d.filter(function(a){return a.invoke(e,b),!a.active}).forEach(function(b){c._removeHandler(c._getHandlers(a),b.handler)})}),c},dispel:function(a,b){var c=this,d=c._getHandlers(),f=n(b);return a=c._ensureEType(a),e(a,function(a){f?c._removeHandler(d[a],f):delete d[a]}),c},_ensureEType:function(a){return a||j(this._getHandlers()).join(" ")},_getHandlers:function(b,c){var d=this,e=d.handlers=d.handlers||{},f=b?e[b]=e[b]||[]:e;return c?b?f.slice():a.create(f):f},_addHandler:function(a,b){var c=this;c._getHandlers(a).push(b)},_removeHandler:function(a,b){var c=d(a,b);c>=0&&a.splice(c,1)}};return o}(Object,Array,d),e=function(a){function b(a){a=a||{};var c=this;b.Each(a,function(a,b){c[b]=a}),b.Construct(c)}var c=b.prototype=Object.create(a.When);return c.each=function(a){var c=this;return b.Each(c,a,c.keys),c},c.set=function(a,b){var c=this;return c[a]=b,c.happen("set",a),c},c.remove=function(a){var b=this;return delete b[a],b.happen("remove",a),b},b}(d),e.Each=function(a){function b(a,b,c){(c||d(a)).forEach(function(c,d){b(a[c],c,d)})}var c=a.Shared,d=c.keys;return b}(d),e.Create=function(a,b){function c(c){var d=a.create(b.prototype);return b.Each(c,function(a,b){d[b]=a}),d}return c}(Object,e),e.Construct=function(a,b){function c(b){var c={};a.defineProperties(b,{handlers:{get:function(){return c},set:function(a){c=a},configurable:!0},keys:f(function(){return e(b)}),length:f(function(){return g(b.keys)}),handleMOJO:{value:(b.handleMOJO||function(){}).bind(b),configurable:!0}})}var d=b.Shared,e=d.keys,f=d.descriptor,g=d.length;return c}(Object,d),function(a){"object"==typeof c?b.exports=a:window.MOJO=a}(e)},{}],25:[function(a,b,c){(function(a){!function(a,d){"use strict";function e(){var a=this;a.q=[],a.i=0,a.len=0}function f(a){var b=this,c=k(function(a,c){a(b,c)});if(b._state=o,b._stack=new e,b.resolve=function(a){return c(g,a),b},b.reject=function(a){return c(h,a),b},a)try{a(b.resolve,b.reject)}catch(a){b.reject(a)}}function g(a,b){b===a?h(a,new TypeError("A promise cannot be resolved with itself.")):j(b,function(b,c){i(a,b,c)})}function h(a,b){i(a,q,b)}function i(a,b,c){a._state!=b&&(a._value=c,a._state=b,a._flush())}function j(a,b){if(a instanceof f&&a._state)b(a._state,a._value);else if(l(a)||m(a)){var c,e=k(function(a,b){a.apply(d,b)});try{c=a.then,m(c)?c.call(a,function(a){e(j,[a,b])},function(a){e(b,[q,a])}):e(b,[p,a])}catch(a){e(b,[q,a])}}else b(p,a)}function k(a){var b;return function(){b||(a.apply(d,arguments),b=!0)}}function l(a){return a&&"object"==typeof a}function m(a){return"function"==typeof a}e.prototype.put=function(a){var b=this;b.q[b.len]=a,b.len++},e.prototype.get=function(){var a=this,b=a.q[a.i];return a.i++,a.i>=a.len&&(a.q.length=a.i=a.len=0),b};var n;n=a.setImmediate?setImmediate:a.MessageChannel?function(){var a=new e,b=new MessageChannel;return b.port1.onmessage=function(){for(var b;b=a.get();)b()},function(c){a.put(c),b.port2.postMessage(0)}}():setTimeout,f.async=function(a){n(a)};var o=0,p=1,q=2;f.prototype.onresolved=function(a){return a},f.prototype.onrejected=function(a){throw a},f.prototype._flush=function(){var a=this,b=a._state;b&&f.async(function(){!function c(){var d=a._stack.get();if(d){var e=b===p?d.onresolved:d.onrejected;try{g(d,e(a._value))}catch(a){h(d,a)}c()}}()})},f.prototype.then=function(a,b){var c=this,d=new f;return m(a)&&(d.onresolved=a),m(b)&&(d.onrejected=b),c._stack.put(d),c._flush(),d},f.prototype.catch=function(a){return this.then(d,a)},f.resolve=function(a){return(new f).resolve(a)},f.reject=function(a){return(new f).reject(a)},f.all=function(a){var b=new f,c=[],d=0,e=a.length;return a.forEach(function(a,f){j(a,function(a,g){d++,c[f]=g,a===q?b.reject(g):d===e&&b.resolve(c)})}),b},f.race=function(a){var b=new f;return a.forEach(function(a){j(a,function(a,c){i(b,a,c)})}),b},"object"==typeof c?b.exports=f:a.WeePromise=f}("object"==typeof window?window:a)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[9])(9)});
//# sourceMappingURL=hx.min.js.map