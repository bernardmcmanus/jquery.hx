/*! MOJO - 0.1.0 - Bernard McManus - 2014-06-12 */
window._MOJO={},window.MOJO={},_MOJO.When=function(){function a(){}return a.prototype={when:function(a,b,c){var d=this;if(!a||!b||"function"!=typeof b)throw"Error: Invalid when args.";var e=a.split(" ");e.forEach(function(a){var e=new _MOJO.EventHandler(b);e.bind(c),d._addHandler(a,e)})},happen:function(a,b){var c=this,d=a.split(" ");d.forEach(function(a){var d=c._getHandlers(a),e=_MOJO.EventFactory(c,a);d.forEach(function(a){a.invoke(e,b)})})},dispel:function(a,b){var c=this,d=c._getHandlers(),e=a.split(" ");e.forEach(function(a){b?c._removeHandler(a,b):delete d[a]})},_getHandlers:function(a){var b=this.handlers;return a?b[a]||[]:b},_addHandler:function(a,b){var c=this,d=c.handlers;(d[a]=d[a]||[]).push(b)},_removeHandler:function(a,b){var c=this,d=c._getHandlers(a);if(d&&!(d.length<1)){for(var e,f=0;f<d.length&&(e=d[f].handler,e!==b);)f++;0>f||f>=d.length||(d=d.splice(f,1))}}},a}(),_MOJO.EventHandler=function(){function a(a){var b=this;b.handler=a,b.args=[]}return a.prototype={invoke:function(a,b){var c=this,d=c.getArgs().concat(b||[]);d.unshift(a),c.handler.apply(null,d)},getArgs:function(){return this.args||[]},bind:function(a){void 0!==a&&(this.args=a instanceof Array?a:[a])}},a}(),_MOJO.EventFactory=function(){function a(a,c){return new b(a,c)}function b(a,b){var c=this;c.bubbles=!1,c.cancelBubble=!1,c.cancelable=!1,c.defaultPrevented=!1,c.target=a,c.type=b,c.timeStamp=(new Date).getTime()}return b.prototype={preventDefault:function(){this.defaultPrevented=!0},stopPropagation:function(){this.cancelBubble=!0}},a}(),MOJO=function(a){function b(a){a=a||{};for(var b=this,c=Object.keys(a),d=c.length,e=0;d>e;e++){var f=c[e];b[f]=a[f]}var g={};Object.defineProperty(b,"handlers",{get:function(){return g},set:function(a){g=a},configurable:!0}),Object.defineProperty(b,"keys",{get:function(){return Object.keys(b)}}),Object.defineProperty(b,"values",{get:function(){return b.keys.map(function(a){return b[a]})}}),Object.defineProperty(b,"length",{get:function(){return b.keys.length}})}var c=b.prototype=new a.When;return c.hasValue=function(a){return this.values.indexOf(a)>=0},c.indexOfValue=function(a){return this.values.indexOf(a)},c.set=function(a,b){var c=this;return c[a]=b,c.happen("set",a),c[a]},c.remove=function(a){var b=this;b.hasOwnProperty(a)&&(delete b[a],b.happen("remove",a))},b}(window._MOJO),MOJO.Extend=function(){function a(){for(var a=arguments[0],b=Array.prototype.slice.call(arguments,1),c=0;c<b.length;c++)for(var d in b[c]){var e=b[c][d];void 0!==e&&(a[d]=null===e||"object"!=typeof e||e.nodeType?e:e instanceof Array?this.extend([],e):this.extend({},e))}}return a}();